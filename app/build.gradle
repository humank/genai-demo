plugins {
    id 'java'
    id 'org.springframework.boot' version '3.4.5'
    id 'io.spring.dependency-management' version '1.1.5'
    id 'io.qameta.allure' version '2.11.2' // Allure æ’ä»¶
    id 'com.diffplug.spotless' version '6.25.0' // ä»£ç¢¼æ ¼å¼åŒ–æ’ä»¶
}

group = 'solid.humank'
version = '0.0.1-SNAPSHOT'

java {
    sourceCompatibility = '21'
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

// Allure é…ç½®
allure {
    version = '2.22.1'
    useJUnit5 {
        version = '2.22.1'
    }
}

// å®šç¾© Allure çµæœç›®éŒ„
def allureResultsDir = layout.buildDirectory.dir('allure-results').get().asFile.absolutePath

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-validation'
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    implementation 'org.flywaydb:flyway-core'
    implementation 'com.h2database:h2'
    
    // OpenAPI 3 (Swagger) æ”¯æ´
    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0'
    
    // ArchUnit for architecture testing
    testImplementation 'com.tngtech.archunit:archunit-junit5:1.2.0'
    
    // Cucumber for BDD testing
    testImplementation 'io.cucumber:cucumber-java:7.15.0'
    testImplementation 'io.cucumber:cucumber-junit-platform-engine:7.15.0'
    testImplementation 'io.cucumber:cucumber-picocontainer:7.15.0'
    
    // JUnit 5
    testImplementation(platform('org.junit:junit-bom:5.10.2'))
    testImplementation('org.junit.jupiter:junit-jupiter')
    testImplementation('org.junit.platform:junit-platform-suite')
    
    // ç¢ºä¿ JUnit Platform ç›¸é—œä¾è³´ç‰ˆæœ¬ä¸€è‡´
    constraints {
        testImplementation('org.junit.platform:junit-platform-commons:1.10.2')
        testImplementation('org.junit.platform:junit-platform-engine:1.10.2')
    }
    
    // Mockito
    testImplementation 'org.mockito:mockito-core:5.8.0'
    testImplementation 'org.mockito:mockito-junit-jupiter:5.8.0'
    testImplementation 'org.mockito:mockito-inline:5.2.0'
    
    // Spring Test
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    
    // Allure ä¾è³´
    testImplementation 'io.qameta.allure:allure-junit5:2.22.1'
    testImplementation 'io.qameta.allure:allure-cucumber7-jvm:2.22.1'
    testImplementation 'io.qameta.allure:allure-java-commons:2.22.1'
    
    compileOnly 'org.projectlombok:lombok:1.18.38'
    annotationProcessor 'org.projectlombok:lombok:1.18.38'
    testCompileOnly 'org.projectlombok:lombok:1.18.38'
    testAnnotationProcessor 'org.projectlombok:lombok:1.18.38'
}

// é…ç½® Java ç·¨è­¯å’ŒåŸ·è¡Œä»»å‹™å•Ÿç”¨é è¦½åŠŸèƒ½
tasks.withType(JavaCompile).configureEach {
    options.compilerArgs += '--enable-preview'
    options.release = 21
}

tasks.withType(Test).configureEach {
    jvmArgs += '--enable-preview'
}

tasks.withType(JavaExec).configureEach {
    jvmArgs += '--enable-preview'
}

// è®“ç·¨è­¯ä»»å‹™ä¾è³´æ–¼ä»£ç¢¼æ ¼å¼åŒ–
tasks.named('compileJava') {
    dependsOn 'spotlessApply'
}

// æ¨™æº–å–®å…ƒæ¸¬è©¦ä»»å‹™
tasks.named('test') {
    useJUnitPlatform {
        // åŒ…å«æ‰€æœ‰æ¸¬è©¦ï¼ŒåŒ…æ‹¬ Cucumber æ¸¬è©¦
        includeTags 'cucumber', 'architecture', 'unit'
    }
    
    // Allure é…ç½®
    systemProperty 'allure.results.directory', "${buildDir}/allure-results"
    systemProperty 'allure.epic', 'DDDæ¶æ§‹æ¸¬è©¦'
    systemProperty 'allure.feature', 'JUnitæ¸¬è©¦'
    
    testLogging {
        events "passed", "skipped", "failed"
        showStandardStreams = true
        exceptionFormat = 'full'
    }
    
    systemProperty 'junit.jupiter.extensions.autodetection.enabled', 'true'
    systemProperty 'junit.platform.output.capture.stdout', 'true'
    systemProperty 'junit.platform.output.capture.stderr', 'true'
    
    // ç¢ºä¿ Cucumber æ¸¬è©¦è¢«åŒ…å«
    include '**/*Test.java'
    include '**/*Tests.java'
    include '**/CucumberTestRunner.java'
}

// Cucumber æ¸¬è©¦ä»»å‹™
tasks.register('cucumber', JavaExec) {
    dependsOn assemble, testClasses
    getMainClass().set("io.cucumber.core.cli.Main")
    classpath = configurations.testRuntimeClasspath + sourceSets.main.output + sourceSets.test.output
    args = [
        '--plugin', 'pretty',
        '--plugin', 'html:build/reports/cucumber/cucumber-report.html',
        '--plugin', 'json:build/reports/cucumber/cucumber-report.json',
        '--plugin', 'io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm',
        '--glue', 'solid.humank.genaidemo.bdd',
        'src/test/resources/features'
    ]
    
    systemProperty 'allure.results.directory', allureResultsDir
    systemProperty 'allure.epic', 'BDDåŠŸèƒ½æ¸¬è©¦'
    systemProperty 'allure.feature', 'Cucumberæ¸¬è©¦'
    
    // ç¢ºä¿ Cucumber æ¸¬è©¦çµæœè¢«æ­£ç¢ºè™•ç†
    finalizedBy 'prepareAllureResults'
}

// DDD æ¶æ§‹æ¸¬è©¦ä»»å‹™
tasks.register('testArchitecture', Test) {
    description = 'åŸ·è¡Œ DDD èˆ‡å…­é‚Šå½¢æ¶æ§‹çš„è¦ç¯„æ¸¬è©¦'
    group = 'verification'
    
    useJUnitPlatform()
    include '**/architecture/**'
    
    reports {
        html.required = true
        junitXml.required = true
    }
    
    reports.html.outputLocation.set(file("${buildDir}/reports/tests/architecture"))
    
    testLogging {
        events "passed", "skipped", "failed"
        showStandardStreams = true
        exceptionFormat = 'full'
    }
    
    systemProperty 'allure.results.directory', allureResultsDir
    systemProperty 'allure.epic', 'æ¶æ§‹åˆè¦æ€§'
    systemProperty 'allure.feature', 'æ¶æ§‹è¦ç¯„æ¸¬è©¦'
}

// é‹è¡Œæ‰€æœ‰æ¸¬è©¦ä¸¦ç”Ÿæˆå ±å‘Š
tasks.register('runAllTests') {
    dependsOn test, testArchitecture, cucumber, prepareAllureResults
    description = 'é‹è¡Œæ‰€æœ‰æ¸¬è©¦ä¸¦ç”Ÿæˆ Allure å ±å‘Š'
    group = 'verification'
    
    doLast {
        println "æ‰€æœ‰æ¸¬è©¦å·²å®Œæˆï¼ŒåŒ…æ‹¬å–®å…ƒæ¸¬è©¦ã€æ¶æ§‹æ¸¬è©¦å’Œ Cucumber æ¸¬è©¦"
    }
    
    finalizedBy 'allureReport'
}

// é‹è¡Œæ‰€æœ‰æ¸¬è©¦ä¸¦å•Ÿå‹•å ±å‘Šæœå‹™å™¨
tasks.register('runAllTestsWithReport') {
    dependsOn 'runAllTests'
    description = 'é‹è¡Œæ‰€æœ‰æ¸¬è©¦ä¸¦å•Ÿå‹• Allure å ±å‘Šæœå‹™å™¨'
    group = 'verification'
    
    finalizedBy 'allureServe'
}

// æ¸…ç† Allure çµæœç›®éŒ„
tasks.register('cleanAllureResults', Delete) {
    delete(allureResultsDir)
    description = 'æ¸…ç† Allure çµæœç›®éŒ„'
    group = 'build'
}

tasks.named('clean') {
    dependsOn 'cleanAllureResults'
}

// æ‰‹å‹•è™•ç† Allure å ±å‘Šç”Ÿæˆï¼Œé¿å…ä½¿ç”¨å…§å»ºä»»å‹™
tasks.register('prepareAllureResults') {
    description = 'æº–å‚™ Allure å ±å‘Šæ•¸æ“š'
    group = 'reporting'
    
    doLast {
        // ç¢ºä¿ allure-results ç›®éŒ„å­˜åœ¨
        mkdir "${buildDir}/allure-results"
        
        // è¤‡è£½ Cucumber æ¸¬è©¦çµæœ
        copy {
            from "${buildDir}/reports/cucumber"
            into "${buildDir}/allure-results"
            include "**/*.json"
        }
        
        // è¤‡è£½ JUnit æ¸¬è©¦çµæœ
        copy {
            from "${buildDir}/test-results/test"
            into "${buildDir}/allure-results"
            include "**/*.xml"
        }
        
        // å‰µå»º executor.json æ–‡ä»¶
        def executorFile = new File("${buildDir}/allure-results/executor.json")
        executorFile.text = """{
            "name": "Gradle",
            "type": "gradle",
            "buildName": "GenAI Demo Project",
            "reportName": "DDD æ¶æ§‹æ¸¬è©¦å ±å‘Š"
        }"""
        
        println "Allure å ±å‘Šæ•¸æ“šæº–å‚™å®Œæˆï¼Œçµæœç›®éŒ„: ${buildDir}/allure-results"
    }
}

// è¦†è“‹ allureReport ä»»å‹™
tasks.named('allureReport') {
    dependsOn 'prepareAllureResults'
}

// Spotless é…ç½® - ä»£ç¢¼æ ¼å¼åŒ–å’Œ import æ¸…ç†
spotless {
    java {
        // æŒ‡å®šè¦è™•ç†çš„æ–‡ä»¶
        target 'src/**/*.java'
        
        // ç§»é™¤æœªä½¿ç”¨çš„ imports
        removeUnusedImports()
        
        // æ•´ç† imports é †åº
        importOrder('java', 'javax', 'org', 'com', '')
        
        // ä½¿ç”¨ Google Java Format
        googleJavaFormat('1.19.2').aosp().reflowLongStrings()
        
        // æˆ–è€…ä½¿ç”¨ Eclipse formatterï¼ˆè¨»é‡‹æ‰ä¸Šé¢çš„ googleJavaFormat è¡Œï¼‰
        // eclipse().configFile('eclipse-formatter.xml')
        
        // ç¢ºä¿æ–‡ä»¶ä»¥æ›è¡Œç¬¦çµå°¾
        endWithNewline()
        
        // ç§»é™¤è¡Œå°¾ç©ºç™½
        trimTrailingWhitespace()
    }
    
    // Markdown æ ¼å¼åŒ–é…ç½®
    format 'markdown', {
        target '**/*.md'
        
        // ä½¿ç”¨ Prettier æ ¼å¼åŒ– Markdown
        prettier(['prettier': '2.8.8', 'prettier-plugin-organize-imports': '3.2.2'])
            .config([
                'parser': 'markdown',
                'printWidth': 80,
                'tabWidth': 2,
                'useTabs': false,
                'semi': false,
                'singleQuote': true,
                'quoteProps': 'as-needed',
                'trailingComma': 'es5',
                'bracketSpacing': true,
                'proseWrap': 'preserve'
            ])
        
        // ç¢ºä¿æ–‡ä»¶ä»¥æ›è¡Œç¬¦çµå°¾
        endWithNewline()
        
        // ç§»é™¤è¡Œå°¾ç©ºç™½
        trimTrailingWhitespace()
    }
}

// è‡ªå®šç¾©ä»»å‹™ï¼šåªæ¸…ç† importsï¼ˆä¸æ ¼å¼åŒ–å…¶ä»–å…§å®¹ï¼‰
tasks.register('cleanImports') {
    description = 'åªæ¸…ç† Java ä»£ç¢¼ä¸­æœªä½¿ç”¨çš„ importsï¼Œä¸é€²è¡Œå…¶ä»–æ ¼å¼åŒ–'
    group = 'formatting'
    
    doLast {
        // ä½¿ç”¨ Spotless çš„ removeUnusedImports åŠŸèƒ½
        exec {
            commandLine 'sh', '-c', """
                find src -name "*.java" -exec sed -i '' '/^import.*unused/d' {} \\;
            """
        }
        println "æœªä½¿ç”¨çš„ imports å·²æ¸…ç†å®Œæˆï¼"
    }
}

// Markdown æ ¼å¼åŒ–å’Œèªæ³•ä¿®æ­£ä»»å‹™
tasks.register('formatMarkdown') {
    description = 'æ ¼å¼åŒ–å’Œä¿®æ­£ Markdown æ–‡ä»¶èªæ³•çµæ§‹'
    group = 'formatting'
    
    doLast {
        // æ‰¾åˆ°æ‰€æœ‰ Markdown æ–‡ä»¶
        def markdownFiles = fileTree(dir: '.', include: '**/*.md', exclude: ['**/node_modules/**', '**/build/**', '**/.git/**']).files
        
        println "æ­£åœ¨è™•ç† ${markdownFiles.size()} å€‹ Markdown æ–‡ä»¶..."
        
        markdownFiles.each { file ->
            def content = file.text
            def originalContent = content
            
            // ä¿®æ­£æ¨™é¡Œæ ¼å¼ï¼ˆç¢ºä¿ # å¾Œé¢æœ‰ç©ºæ ¼ï¼‰
            content = content.replaceAll(/^(#{1,6})([^\s#])/, '$1 $2')
            
            // ä¿®æ­£åˆ—è¡¨æ ¼å¼ï¼ˆç¢ºä¿ - æˆ– * å¾Œé¢æœ‰ç©ºæ ¼ï¼‰
            content = content.replaceAll(/^(\s*[-*])([^\s])/, '$1 $2')
            
            // ä¿®æ­£æ•¸å­—åˆ—è¡¨æ ¼å¼
            content = content.replaceAll(/^(\s*\d+\.)([^\s])/, '$1 $2')
            
            // ä¿®æ­£ä»£ç¢¼å¡Šæ ¼å¼ï¼ˆç¢ºä¿å‰å¾Œæœ‰ç©ºè¡Œï¼‰
            content = content.replaceAll(/([^\n])\n```/, '$1\n\n```')
            content = content.replaceAll(/```\n([^\n])/, '```\n\n$1')
            
            // ä¿®æ­£éˆæ¥æ ¼å¼
            content = content.replaceAll(/\[([^\]]+)\]\s*\(([^)]+)\)/, '[$1]($2)')
            
            // ç§»é™¤å¤šé¤˜çš„ç©ºè¡Œï¼ˆè¶…éå…©å€‹é€£çºŒç©ºè¡Œï¼‰
            content = content.replaceAll(/\n{3,}/, '\n\n')
            
            // ç¢ºä¿æ–‡ä»¶ä»¥å–®å€‹æ›è¡Œç¬¦çµå°¾
            content = content.replaceAll(/\n*$/, '\n')
            
            if (content != originalContent) {
                file.text = content
                println "å·²ä¿®æ­£: ${file.name}"
            }
        }
        
        println "Markdown æ–‡ä»¶æ ¼å¼åŒ–å®Œæˆï¼"
    }
}

// Markdown èªæ³•æª¢æŸ¥ä»»å‹™
tasks.register('lintMarkdown') {
    description = 'æª¢æŸ¥ Markdown æ–‡ä»¶èªæ³•'
    group = 'verification'
    
    doLast {
        def markdownFiles = fileTree(dir: '.', include: '**/*.md', exclude: ['**/node_modules/**', '**/build/**', '**/.git/**']).files
        def issues = []
        
        markdownFiles.each { file ->
            def content = file.text
            def lines = content.split('\n')
            
            lines.eachWithIndex { line, index ->
                def lineNumber = index + 1
                
                // æª¢æŸ¥æ¨™é¡Œæ ¼å¼
                if (line.matches(/^#{1,6}[^\s#]/)) {
                    issues.add("${file.name}:${lineNumber} - æ¨™é¡Œå¾Œç¼ºå°‘ç©ºæ ¼")
                }
                
                // æª¢æŸ¥åˆ—è¡¨æ ¼å¼
                if (line.matches(/^\s*[-*][^\s]/)) {
                    issues.add("${file.name}:${lineNumber} - åˆ—è¡¨é …å¾Œç¼ºå°‘ç©ºæ ¼")
                }
                
                // æª¢æŸ¥æ•¸å­—åˆ—è¡¨æ ¼å¼
                if (line.matches(/^\s*\d+\.[^\s]/)) {
                    issues.add("${file.name}:${lineNumber} - æ•¸å­—åˆ—è¡¨å¾Œç¼ºå°‘ç©ºæ ¼")
                }
                
                // æª¢æŸ¥è¡Œå°¾ç©ºç™½
                if (line.endsWith(' ') || line.endsWith('\t')) {
                    issues.add("${file.name}:${lineNumber} - è¡Œå°¾æœ‰å¤šé¤˜ç©ºç™½")
                }
            }
        }
        
        if (issues.isEmpty()) {
            println "âœ… æ‰€æœ‰ Markdown æ–‡ä»¶èªæ³•æª¢æŸ¥é€šéï¼"
        } else {
            println "âŒ ç™¼ç¾ ${issues.size()} å€‹ Markdown èªæ³•å•é¡Œï¼š"
            issues.each { println "  $it" }
            throw new GradleException("Markdown èªæ³•æª¢æŸ¥å¤±æ•—")
        }
    }
}
// OpenAPI æ–‡æª”ç”Ÿæˆä»»å‹™
tasks.register('generateApiDocs', Test) {
    description = 'ç”Ÿæˆ OpenAPI è¦ç¯„æª”æ¡ˆ (JSON å’Œ YAML æ ¼å¼)'
    group = 'documentation'
    
    // ä»»å‹™ä¾è³´
    dependsOn assemble, testClasses
    
    // é…ç½® JUnit Platform
    useJUnitPlatform()
    include '**/OpenApiDocumentationTest.class'
    
    // ç¢ºä¿ docs/api ç›®éŒ„å­˜åœ¨
    doFirst {
        println '========================================='
        println 'ğŸš€ æ­£åœ¨ç”Ÿæˆ OpenAPI æ–‡æª”...'
        println '========================================='
        
        // å‰µå»ºè¼¸å‡ºç›®éŒ„
        def docsDir = file('docs/api')
        if (!docsDir.exists()) {
            docsDir.mkdirs()
            println "âœ… å·²å‰µå»ºç›®éŒ„: ${docsDir.absolutePath}"
        }
    }
    
    // æ¸¬è©¦åŸ·è¡Œé…ç½®
    testLogging {
        events "passed", "skipped", "failed"
        showStandardStreams = true
        exceptionFormat = 'full'
    }
    
    // ç³»çµ±å±¬æ€§é…ç½®
    systemProperty 'spring.profiles.active', 'test'
    systemProperty 'spring.test.context.cache.maxSize', '1'
    
    // ä»»å‹™å®Œæˆå¾Œçš„æç¤ºè¨Šæ¯
    doLast {
        println '========================================='
        println 'âœ… OpenAPI æ–‡æª”ç”Ÿæˆå®Œæˆï¼'
        println '========================================='
        println 'ğŸ“ æª”æ¡ˆä½ç½®: docs/api/'
        println 'ğŸ“„ JSON æª”æ¡ˆ: docs/api/openapi.json'
        println 'ğŸ“„ YAML æª”æ¡ˆ: docs/api/openapi.yaml'
        println ''
        println 'ğŸŒ Swagger UI è¨ªå•åœ°å€:'
        println '   http://localhost:8080/swagger-ui.html'
        println ''
        println 'ğŸ“– API æ–‡æª”è¨ªå•åœ°å€:'
        println '   http://localhost:8080/v3/api-docs (JSON)'
        println '   http://localhost:8080/v3/api-docs.yaml (YAML)'
        println '========================================='
    }
    
    // éŒ¯èª¤è™•ç†
    onlyIf {
        def testClass = file('src/test/java/solid/humank/genaidemo/infrastructure/OpenApiDocumentationTest.java')
        if (!testClass.exists()) {
            println "âŒ éŒ¯èª¤: æ‰¾ä¸åˆ° OpenApiDocumentationTest.java"
            println "   è«‹ç¢ºä¿æ¸¬è©¦é¡åˆ¥å­˜åœ¨æ–¼: ${testClass.absolutePath}"
            return false
        }
        return true
    }
}

// æ–‡æª”ç›¸é—œä»»å‹™çµ„
tasks.register('generateAllDocs') {
    description = 'ç”Ÿæˆæ‰€æœ‰å°ˆæ¡ˆæ–‡æª” (API æ–‡æª”ã€æ¶æ§‹åœ–ç­‰)'
    group = 'documentation'
    
    dependsOn generateApiDocs
    
    doFirst {
        println 'ğŸ”„ é–‹å§‹ç”Ÿæˆæ‰€æœ‰å°ˆæ¡ˆæ–‡æª”...'
    }
    
    doLast {
        println 'âœ… æ‰€æœ‰æ–‡æª”ç”Ÿæˆå®Œæˆï¼'
        println ''
        println 'ğŸ“š å¯ç”¨æ–‡æª”:'
        println '   â€¢ API æ–‡æª”: docs/api/'
        println '   â€¢ æ¶æ§‹æ–‡æª”: docs/'
        println '   â€¢ UML åœ–è¡¨: docs/uml/'
        println ''
    }
}

// é©—è­‰ API æ–‡æª”ä»»å‹™
tasks.register('validateApiDocs') {
    description = 'é©—è­‰ç”Ÿæˆçš„ OpenAPI æ–‡æª”æ ¼å¼æ­£ç¢ºæ€§'
    group = 'verification'
    
    dependsOn generateApiDocs
    
    doLast {
        def jsonFile = file('docs/api/openapi.json')
        def yamlFile = file('docs/api/openapi.yaml')
        
        println 'ğŸ” é©—è­‰ API æ–‡æª”...'
        
        if (jsonFile.exists()) {
            try {
                // ç°¡å–®çš„ JSON æ ¼å¼é©—è­‰
                def jsonContent = jsonFile.text
                if (jsonContent.contains('"openapi"') && jsonContent.contains('"info"')) {
                    println "âœ… JSON æ–‡æª”æ ¼å¼æ­£ç¢º: ${jsonFile.name}"
                } else {
                    throw new GradleException("âŒ JSON æ–‡æª”æ ¼å¼ä¸æ­£ç¢º")
                }
            } catch (Exception e) {
                throw new GradleException("âŒ JSON æ–‡æª”é©—è­‰å¤±æ•—: ${e.message}")
            }
        } else {
            throw new GradleException("âŒ æ‰¾ä¸åˆ° JSON æ–‡æª”: ${jsonFile.absolutePath}")
        }
        
        if (yamlFile.exists()) {
            def yamlContent = yamlFile.text
            if (yamlContent.contains('openapi:') && yamlContent.contains('info:')) {
                println "âœ… YAML æ–‡æª”æ ¼å¼æ­£ç¢º: ${yamlFile.name}"
            } else {
                throw new GradleException("âŒ YAML æ–‡æª”æ ¼å¼ä¸æ­£ç¢º")
            }
        } else {
            throw new GradleException("âŒ æ‰¾ä¸åˆ° YAML æ–‡æª”: ${yamlFile.absolutePath}")
        }
        
        println 'âœ… API æ–‡æª”é©—è­‰é€šéï¼'
    }
}

// æ•´åˆåˆ°å»ºæ§‹æµç¨‹ - å¯é¸æ“‡æ€§åœ°åœ¨ build æ™‚ç”Ÿæˆæ–‡æª”
tasks.register('buildWithDocs') {
    description = 'å»ºæ§‹å°ˆæ¡ˆä¸¦ç”Ÿæˆ API æ–‡æª”'
    group = 'build'
    
    dependsOn build, generateApiDocs
    
    doLast {
        println 'ğŸ‰ å°ˆæ¡ˆå»ºæ§‹å®Œæˆï¼ŒåŒ…å« API æ–‡æª”ç”Ÿæˆï¼'
    }
}