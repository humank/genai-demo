# JUnit 5 Platform Configuration
# Optimized for fast unit test execution with parallel processing
# Last Updated: October 1, 2025 (Taipei Time)

# ==================== Parallel Execution Configuration ====================

# Enable parallel test execution
junit.jupiter.execution.parallel.enabled=true

# Execute tests in parallel by default
junit.jupiter.execution.parallel.mode.default=concurrent

# Execute test classes in parallel
junit.jupiter.execution.parallel.mode.classes.default=concurrent

# Dynamic parallelism based on available processors
junit.jupiter.execution.parallel.config.strategy=dynamic

# Use all available processors (factor = 1.0)
junit.jupiter.execution.parallel.config.dynamic.factor=1.0

# ==================== Timeout Configuration ====================

# Default timeout for all tests (2 minutes)
junit.jupiter.execution.timeout.default=2m

# Timeout for test methods (30 seconds)
junit.jupiter.execution.timeout.testmethod.method.default=30s

# Timeout for @BeforeEach and @AfterEach (10 seconds)
junit.jupiter.execution.timeout.beforeeach.method.default=10s
junit.jupiter.execution.timeout.aftereach.method.default=10s

# Timeout for @BeforeAll and @AfterAll (30 seconds)
junit.jupiter.execution.timeout.beforeall.method.default=30s
junit.jupiter.execution.timeout.afterall.method.default=30s

# ==================== Test Instance Lifecycle ====================

# Use per-method lifecycle for better isolation
junit.jupiter.testinstance.lifecycle.default=per_method

# ==================== Display Name Generation ====================

# Use display name generator for better test reports
junit.jupiter.displayname.generator.default=org.junit.jupiter.api.DisplayNameGenerator$ReplaceUnderscores

# ==================== Extension Auto-Detection ====================

# Disable auto-detection for faster startup
junit.jupiter.extensions.autodetection.enabled=false

# ==================== Condition Evaluation ====================

# Evaluate conditions before test execution
junit.jupiter.conditions.deactivate=never

# ==================== Test Method Order ====================

# Use method order annotation if specified
junit.jupiter.testmethod.order.default=org.junit.jupiter.api.MethodOrderer$OrderAnnotation

# ==================== Test Class Order ====================

# Use class order annotation if specified
junit.jupiter.testclass.order.default=org.junit.jupiter.api.ClassOrderer$OrderAnnotation

# ==================== Performance Optimization ====================

# Disable test discovery caching for consistent results
junit.platform.discovery.parallel.enabled=true

# ==================== Logging Configuration ====================

# Set log level for JUnit platform
java.util.logging.config.file=src/test/resources/logging-test.properties
