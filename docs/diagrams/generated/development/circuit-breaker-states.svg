<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="542px" preserveAspectRatio="none" style="width:627px;height:542px;background:#FFFFFF;" version="1.1" viewBox="0 0 627 542" width="627px" zoomAndPan="magnify"><title>Circuit Breaker Pattern - State Transitions</title><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="521.2969" x="48.771" y="37.1182">Circuit Breaker Pattern - State Transitions</text><g id="closed"><rect fill="#FFFFFF" height="80.7666" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="157.959" x="220.56" y="139.7373"/><line style="stroke:#000000;stroke-width:1;" x1="220.56" x2="378.519" y1="166.752" y2="166.752"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="43.9893" x="277.5449" y="158.8125">closed</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="107.0684" x="225.56" y="183.8164">Normal Operation</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="137.959" x="225.56" y="198.4004">Requests pass through</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="99.0996" x="225.56" y="212.9844">Failures counted</text></g><g id="open"><rect fill="#FFFFFF" height="80.7666" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="151.0801" x="12" y="297.5073"/><line style="stroke:#000000;stroke-width:1;" x1="12" x2="163.0801" y1="324.522" y2="324.522"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="34.4189" x="70.3306" y="316.5825">open</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="86.2324" x="17" y="341.5864">Fast Fail Mode</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="108.3164" x="17" y="356.1704">Requests rejected</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="131.0801" x="17" y="370.7544">Timeout period active</text></g><g id="halfopen"><rect fill="#FFFFFF" height="80.7666" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="152.2051" x="204.44" y="455.2673"/><line style="stroke:#000000;stroke-width:1;" x1="204.44" x2="356.6451" y1="482.282" y2="482.282"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60.4502" x="250.3174" y="474.3425">halfopen</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="103.6055" x="209.44" y="499.3464">Recovery Testing</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="100.2305" x="209.44" y="513.9304">Limited requests</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="132.2051" x="209.44" y="528.5144">Testing service health</text></g><ellipse cx="299.54" cy="68.7373" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1;"/><g id="elem_GMN2"><path d="M413.79,151.4173 L413.79,176.1173 L378.85,180.1173 L413.79,184.1173 L413.79,208.8153 A0,0 0 0 0 413.79,208.8153 L617.2851,208.8153 A0,0 0 0 0 617.2851,208.8153 L617.2851,161.4173 L607.2851,151.4173 L413.79,151.4173 A0,0 0 0 0 413.79,151.4173 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M607.2851,151.4173 L607.2851,161.4173 L617.2851,161.4173 L607.2851,151.4173 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="177.0298" x="419.79" y="169.4871">- All requests pass through</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="136.0684" x="419.79" y="185.2864">- Monitor failure rate</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="182.4951" x="419.79" y="201.0858">- Count consecutive failures</text></g><g id="elem_GMN5"><path d="M197.74,309.1873 L197.74,333.8873 L163.21,337.8873 L197.74,341.8873 L197.74,366.5853 A0,0 0 0 0 197.74,366.5853 L441.3396,366.5853 A0,0 0 0 0 441.3396,366.5853 L441.3396,319.1873 L431.3396,309.1873 L197.74,309.1873 A0,0 0 0 0 197.74,309.1873 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M431.3396,309.1873 L431.3396,319.1873 L441.3396,319.1873 L431.3396,309.1873 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="196.7456" x="203.74" y="327.2571">- Reject requests immediately</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="222.5996" x="203.74" y="343.0564">- Return cached response or error</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="162.811" x="203.74" y="358.8558">- Wait for timeout period</text></g><g id="elem_GMN8"><path d="M391.37,466.9573 L391.37,491.6573 L356.83,495.6573 L391.37,499.6573 L391.37,524.3553 A0,0 0 0 0 391.37,524.3553 L603.7074,524.3553 A0,0 0 0 0 603.7074,524.3553 L603.7074,476.9573 L593.7074,466.9573 L391.37,466.9573 A0,0 0 0 0 391.37,466.9573 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M593.7074,466.9573 L593.7074,476.9573 L603.7074,476.9573 L593.7074,466.9573 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183.8408" x="397.37" y="485.0271">- Allow limited test requests</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8726" x="397.37" y="500.8264">- Monitor success rate</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="191.3374" x="397.37" y="516.6258">- Decide next state transition</text></g><!--link *start* to closed--><g id="link_*start*_closed"><path d="M299.54,79.0673 C299.54,92.3373 299.54,111.4973 299.54,133.2673 " fill="none" id="*start*-to-closed" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="299.54,139.2673,303.54,130.2673,299.54,134.2673,295.54,130.2673,299.54,139.2673" style="stroke:#000000;stroke-width:1;"/></g><!--link closed to open--><g id="link_closed_open"><path d="M245.49,220.8273 C213.6,244.2673 178.2054,270.275 146.3254,293.695 " fill="none" id="closed-to-open" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="141.49,297.2473,151.1113,295.1425,145.5195,294.2871,146.375,288.6953,141.49,297.2473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="175.9126" x="200.9" y="264.5771">Failure threshold exceeded</text></g><!--link open to halfopen--><g id="link_open_halfopen"><path d="M76.37,378.4173 C74.24,394.2673 75.1,411.9173 84.54,425.2673 C111.52,463.4473 155.4576,479.6697 198.1276,487.4597 " fill="none" id="open-to-halfopen" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="204.03,488.5373,195.8947,482.986,199.1113,487.6393,194.458,490.8559,204.03,488.5373" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151.7915" x="85.54" y="422.3371">Timeout period expired</text></g><!--link halfopen to open--><g id="link_halfopen_open"><path d="M269.45,454.8973 C263.34,438.8173 254.34,421.0673 241.54,408.2673 C238.26,404.9973 206.1144,390.4281 168.8744,374.0881 " fill="none" id="halfopen-to-open" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="163.38,371.6773,170.0144,378.9564,167.9586,373.6863,173.2287,371.6306,163.38,371.6773" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104.9521" x="255.31" y="422.3371">Failure detected</text></g><!--link halfopen to closed--><g id="link_halfopen_closed"><path d="M356.24,454.8273 C399.27,430.4373 446.86,399.8673 458.54,378.2673 C475.62,346.6973 474.78,329.5173 458.54,297.5073 C441.44,263.7973 414.5877,240.6455 383.7777,221.6555 " fill="none" id="halfopen-to-closed" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="378.67,218.5073,384.2328,226.6347,382.9264,221.1308,388.4304,219.8244,378.67,218.5073" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.7988" x="472.04" y="343.4571">Success threshold met</text></g><!--SRC=[TL9DRnCn4BtlhnYkIFa3792WLKyKK1g90-d1ib-o0rvxiSTf-kyxTfnD4uchv_bzp9iFCc82pTvm68J5W-uusS92NnFCNoJwQKIG0gteIOo0Dic4pC8nv678xSdwcE7e4tsFQJAUVin8fYAsOOr_1LaopIPdaZ75iX-tuS6mBmcPR2n1u3fHd16Kvi5aeGgXn-ZmZYJX3wp2js734s8HKYMEZemLFe2eyup6xphN6ZOUa5vfemmSzjlmZITM3YKxiIhPQKGPwS1MlyDu6OVXzyTdMgq-ztn3ZrbV5gCjHis5F4Rl24SBE0KtH8M-yt9Z6iUPaq8Nn4LBmK_5Mfnsrhado3NsneM3jEqCGuYwXCJxKIZkplP9A_pY_PBxgf8sVOo19IRQTK8j4MrmLrlIhaA6BMtJ7P8714TLxbQqUcj_rwspYofF4nmhit_jSobwNjROiPMIvof3QWCfnTGmlumUv4wVv6g3_nK_R-cSERwGxwsBcbZCNANEVU5BwdjOTg20ez3fhcIv_Olq6m00]--></g></svg>