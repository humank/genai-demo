@startuml Domain Model Overview
!theme plain
skinparam classAttributeIconSize 0
skinparam classFontStyle bold

title Domain Model Overview\nGenerated: 2025-09-24 15:28:53\n\n

package "Common Context" {
class Phone <<ValueObject>> {
}

class NotificationPreferences <<ValueObject>> {
  通知偏好設定值對象，管理消費者的通知偏好...
}

class Email <<ValueObject>> {
}

class PaymentMethodId <<ValueObject>> {
  支付方式唯一標識符...
}

class DeliveryAddressId <<ValueObject>> {
  配送地址唯一標識符...
}

class Address <<ValueObject>> {
}

class CustomerPreferencesId <<ValueObject>> {
  客戶偏好設定唯一標識符...
}

class RewardPoints <<ValueObject>> {
  紅利點數值對象，封裝點數餘額和相關業務邏輯...
}

class CustomerName <<ValueObject>> {
}

class DeliveryAddress <<Entity>> {
  配送地址實體，管理客戶的配送地址和相關狀態...
}

class CustomerPreferences <<Entity>> {
  客戶偏好設定實體，統一管理客戶的各種偏好設定...
}

class PaymentMethod <<Entity>> {
  支付方式實體，管理客戶的各種支付方式和相關設定...
}

class PriceId <<ValueObject>> {
}

class CommissionRate <<Entity>> {
  佣金費率實體，管理不同產品類別的佣金費率...
}

class DeliveryStatus <<ValueObject>> {
}

class DeliveryId <<ValueObject>> {
}

class CartPromotionId <<ValueObject>> {
  購物車促銷唯一標識符...
}

class CartItem <<ValueObject>> {
  購物車項目值對象...
}

class ShoppingCartId <<ValueObject>> {
  購物車唯一識別碼...
}

class CartPromotion <<Entity>> {
  購物車促銷實體，管理應用於購物車的促銷活動和折扣...
}

class InventoryId <<ValueObject>> {
}

class StockMovementId <<ValueObject>> {
  庫存異動唯一標識符...
}

class InventoryStatus <<ValueObject>> {
}

class StockReservationId <<ValueObject>> {
  庫存預留唯一標識符...
}

class InventoryThresholdId <<ValueObject>> {
  庫存閾值唯一標識符...
}

class ReservationId <<ValueObject>> {
}

class InventoryThreshold <<Entity>> {
  庫存閾值實體，管理庫存閾值規則和警告機制...
}

class StockMovement <<Entity>> {
  庫存異動實體，記錄庫存的所有異動歷史和操作...
}

class StockReservation <<Entity>> {
  庫存預留實體，管理庫存預留的詳細資訊和狀態...
}

class ReviewImageId <<ValueObject>> {
  評價圖片ID...
}

class ModerationStatus <<ValueObject>> {
  審核狀態...
}

class ReviewId <<ValueObject>> {
}

class ResponseStatus <<ValueObject>> {
  回覆狀態...
}

class ModerationRecordId <<ValueObject>> {
  審核記錄ID...
}

class ReviewRating <<ValueObject>> {
  評價評分值對象...
}

class ImageStatus <<ValueObject>> {
  圖片狀態...
}

class ModerationAction <<ValueObject>> {
  審核動作...
}

class ReviewResponseId <<ValueObject>> {
  評價回覆ID...
}

class ReviewResponse <<Entity>> {
  評價回覆實體...
}

class ReviewImage <<Entity>> {
  評價圖片實體...
}

class ModerationRecord <<Entity>> {
  審核記錄實體...
}

class OrderId <<ValueObject>> {
}

class OrderItem <<ValueObject>> {
}

class PaymentId <<ValueObject>> {
}

class PaymentResult <<ValueObject>> {
}

class Money <<ValueObject>> {
}

class Currency <<ValueObject>> {
}

class DeliveryOrder <<ValueObject>> {
}

class ProductName <<ValueObject>> {
}

class StockQuantity <<ValueObject>> {
}

class BundleDiscount <<ValueObject>> {
}

class ProductId <<ValueObject>> {
}

class ProductCategory <<ValueObject>> {
}

class ProductDescription <<ValueObject>> {
}

class Bundle <<Entity>> {
  捆綁銷售實體，管理產品捆綁銷售的規則和折扣...
}

class SessionId <<ValueObject>> {
}

class UserId <<ValueObject>> {
}

class CustomerId <<ValueObject>> {
  客戶唯一標識符，支援 String 和 UUID 格式...
}

class ProductId <<ValueObject>> {
  產品唯一標識符...
}

class PaymentMethod <<ValueObject>> {
}

class CustomerNotificationPreference <<ValueObject>> {
}

class NotificationStatus <<ValueObject>> {
}

class NotificationChannel <<ValueObject>> {
}

class NotificationType <<ValueObject>> {
}

class TemplateVariableId <<ValueObject>> {
  模板變數唯一標識符...
}

class NotificationId <<ValueObject>> {
}

class TemplateVersionId <<ValueObject>> {
  模板版本唯一標識符...
}

class TemplateUsageStatisticsId <<ValueObject>> {
  模板使用統計唯一標識符...
}

class TemplateUsageStatistics <<Entity>> {
  模板使用統計實體，追蹤通知模板的使用情況和效能指標...
}

class WorkflowStatus <<ValueObject>> {
}

class WorkflowId <<ValueObject>> {
}

class FlashSaleRule <<ValueObject>> {
  閃購特價規則...
}

class PromotionId <<ValueObject>> {
  促銷活動唯一識別碼...
}

class CartSummary <<ValueObject>> {
}

class DateRange <<ValueObject>> {
  日期範圍值對象，用於表示促銷活動的有效期間...
}

class BuyOneGetOneRule <<ValueObject>> {
  買一送一規則...
}

class LimitedQuantityRule <<ValueObject>> {
}

class VoucherCode <<ValueObject>> {
  優惠券兌換代碼值對象...
}

class GiftWithPurchaseRule <<ValueObject>> {
}

class VoucherId <<ValueObject>> {
  優惠券唯一識別碼...
}

class FixedAmountDiscountRule <<ValueObject>> {
  固定金額折扣規則...
}

class ConvenienceStoreVoucherRule <<ValueObject>> {
}

class AddOnPurchaseRule <<ValueObject>> {
}

class PercentageDiscountRule <<ValueObject>> {
  百分比折扣規則...
}

class SellerProfileId <<ValueObject>> {
  賣家檔案ID...
}

class SellerId <<ValueObject>> {
}

class ContactInfoId <<ValueObject>> {
  聯繫資訊ID...
}

class RatingStatus <<ValueObject>> {
  評級狀態...
}

class SellerRatingId <<ValueObject>> {
  賣家評級ID...
}

class SellerVerificationId <<ValueObject>> {
  賣家驗證ID...
}

class VerificationStatus <<ValueObject>> {
  驗證狀態...
}

class SellerVerification <<Entity>> {
  賣家驗證實體...
}

class SellerRating <<Entity>> {
  賣家評級實體...
}

class ContactInfo <<Entity>> {
  聯繫資訊實體...
}

class SellerProfile <<Entity>> {
  賣家檔案實體...
}

}

package "Customer Context" {
class Customer <<AggregateRoot>> {
  增強的客戶聚合根，支援完整的消費者功能...
}

class Customer <<AggregateRoot>> {
}

class Customer <<AggregateRoot>> {
}

class Customer <<AggregateRoot>> {
}

}

package "Pricing Context" {
class PricingRule <<AggregateRoot>> {
  定價規則聚合根，負責管理產品定價、折扣和佣金費率...
}

}

package "Delivery Context" {
class Delivery <<AggregateRoot>> {
  配送聚合根，管理訂單的配送流程和狀態...
}

}

package "ShoppingCart Context" {
class ShoppingCart <<AggregateRoot>> {
  購物車聚合根，管理消費者的購物車狀態和商品項目...
}

}

package "Inventory Context" {
class Inventory <<AggregateRoot>> {
  庫存聚合根，管理產品庫存和預留...
}

}

package "Review Context" {
class ProductReview <<AggregateRoot>> {
  商品評價聚合根，管理消費者的商品評價和評分...
}

}

package "Product Context" {
class Product <<AggregateRoot>> {
  產品聚合根，管理產品信息和庫存...
}

}

package "Observability Context" {
class AnalyticsSession <<AggregateRoot>> {
  分析會話聚合根...
}

class ObservabilitySession <<AggregateRoot>> {
  可觀測性會話聚合根...
}

}

package "Payment Context" {
class Payment <<AggregateRoot>> {
  支付聚合根，管理支付流程和狀態...
}

class PaymentMethod <<AggregateRoot>> {
  支付方式聚合根，管理客戶的支付方式配置...
}

}

package "Notification Context" {
class Notification <<AggregateRoot>> {
  通知聚合根，管理系統通知的發送和狀態...
}

class NotificationTemplate <<AggregateRoot>> {
  通知模板聚合根，管理通知模板的內容和格式...
}

}

package "Order Context" {
class Order <<AggregateRoot>> {
  訂單聚合根，封裝訂單相關的業務規則和行為...
}

class OrderWorkflow <<AggregateRoot>> {
  訂單工作流聚合根，管理訂單從創建到完成的整個生命週期...
}

}

package "Promotion Context" {
class Promotion <<AggregateRoot>> {
  促銷聚合根，管理各種促銷活動規則...
}

class Voucher <<AggregateRoot>> {
  超商優惠券聚合根，管理優惠券的完整生命週期...
}

}

package "Seller Context" {
class Seller <<AggregateRoot>> {
  賣家聚合根，管理賣家基本資訊和狀態...
}

}

' Relationships
DeliveryAddress --> DeliveryAddressId
DeliveryAddress --> Address
DeliveryAddress --> Delivery
CustomerPreferences --> CustomerPreferencesId
CustomerPreferences --> Customer
CustomerPreferences --> NotificationPreferences
CustomerPreferences --> Notification
PaymentMethod --> PaymentMethodId
PaymentMethod --> Payment
Customer --> CustomerId
Customer --> CustomerName
Customer --> Email
Customer --> Phone
Customer --> Address
Customer --> RewardPoints
Customer --> Money
Customer --> CustomerPreferences
CommissionRate --> ProductCategory
CommissionRate --> Product
PricingRule --> PriceId
PricingRule --> ProductId
PricingRule --> Product
PricingRule --> PromotionId
PricingRule --> Promotion
PricingRule --> Money
PricingRule --> ProductCategory
Delivery --> DeliveryId
Delivery --> OrderId
Delivery --> Order
Delivery --> DeliveryStatus
CartItem --> ProductId
CartItem --> Product
CartItem --> Money
CartPromotion --> CartPromotionId
CartPromotion --> PromotionId
CartPromotion --> Promotion
ShoppingCart --> ShoppingCartId
ShoppingCart --> Customer
ShoppingCart --> CustomerId
InventoryThreshold --> InventoryThresholdId
InventoryThreshold --> Inventory
StockMovement --> StockMovementId
StockReservation --> StockReservationId
StockReservation --> ReservationId
Inventory --> InventoryId
Inventory --> InventoryStatus
ReviewResponse --> ReviewResponseId
ReviewResponse --> ResponseStatus
ReviewImage --> ReviewImageId
ReviewImage --> ImageStatus
ModerationRecord --> ModerationRecordId
ModerationRecord --> ModerationAction
ModerationRecord --> ModerationStatus
ProductReview --> ReviewId
ProductReview --> ProductId
ProductReview --> Product
ProductReview --> Customer
ProductReview --> CustomerId
ProductReview --> ReviewRating
OrderItem --> Money
Money --> Currency
DeliveryOrder --> OrderId
DeliveryOrder --> Order
DeliveryOrder --> DeliveryStatus
DeliveryOrder --> Delivery
BundleDiscount --> Money
Bundle --> BundleDiscount
Product --> ProductId
Product --> ProductName
Product --> ProductDescription
Product --> Money
Product --> ProductCategory
Product --> StockQuantity
AnalyticsSession --> SessionId
ObservabilitySession --> SessionId
Payment --> PaymentId
Payment --> OrderId
Payment --> Order
Payment --> Money
Payment --> PaymentMethod
PaymentMethod --> Customer
PaymentMethod --> CustomerId
TemplateUsageStatistics --> TemplateUsageStatisticsId
TemplateUsageStatistics --> NotificationChannel
TemplateUsageStatistics --> Notification
Notification --> NotificationId
Notification --> NotificationType
Notification --> NotificationStatus
NotificationTemplate --> NotificationType
NotificationTemplate --> Notification
NotificationTemplate --> NotificationChannel
Order --> OrderId
Order --> Customer
Order --> CustomerId
Order --> Money
OrderWorkflow --> WorkflowId
OrderWorkflow --> OrderId
OrderWorkflow --> Order
OrderWorkflow --> WorkflowStatus
FlashSaleRule --> ProductId
FlashSaleRule --> Product
FlashSaleRule --> Money
FlashSaleRule --> DateRange
CartSummary --> Customer
CartSummary --> CustomerId
CartSummary --> Money
BuyOneGetOneRule --> ProductId
BuyOneGetOneRule --> Product
LimitedQuantityRule --> ProductId
LimitedQuantityRule --> Product
LimitedQuantityRule --> Money
GiftWithPurchaseRule --> Money
GiftWithPurchaseRule --> ProductId
GiftWithPurchaseRule --> Product
FixedAmountDiscountRule --> Money
ConvenienceStoreVoucherRule --> Money
AddOnPurchaseRule --> ProductId
AddOnPurchaseRule --> Product
AddOnPurchaseRule --> Money
PercentageDiscountRule --> Money
Promotion --> PromotionId
Promotion --> DateRange
Voucher --> VoucherId
Voucher --> Money
Voucher --> Customer
Voucher --> CustomerId
Voucher --> VoucherCode
SellerVerification --> SellerVerificationId
SellerVerification --> Seller
SellerVerification --> VerificationStatus
SellerRating --> SellerRatingId
SellerRating --> Seller
SellerRating --> Customer
SellerRating --> CustomerId
SellerRating --> RatingStatus
ContactInfo --> ContactInfoId
SellerProfile --> SellerProfileId
SellerProfile --> Seller
Seller --> SellerId
Seller --> SellerProfile
Seller --> ContactInfo
Seller --> SellerVerification

@enduml
