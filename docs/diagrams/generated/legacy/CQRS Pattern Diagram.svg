<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1784px" preserveAspectRatio="none" style="width:1429px;height:1784px;background:#FFFFFF;" version="1.1" viewBox="0 0 1429 1784" width="1429px" zoomAndPan="magnify"><title>Order System CQRS Pattern</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="198.1943" x="608.8728" y="23.5352">Order System CQRS Pattern</text><!--cluster system--><g id="cluster_system"><rect fill="none" height="1549.09" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7.0,7.0;" width="731" x="7" y="229.8083"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="332.978" y="245.3434">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111.8594" x="316.5703" y="263.7653">Order System</text></g><!--cluster command_side--><g id="cluster_command_side"><rect fill="none" height="771.77" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7.0,7.0;" width="389" x="317" y="299.8083"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="471.978" y="315.3434">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="122.7578" x="450.1211" y="333.7653">Command Side</text></g><!--cluster event_bus--><g id="cluster_event_bus"><rect fill="none" height="188.44" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7.0,7.0;" width="210" x="39" y="1148.5783"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="104.478" y="1164.1134">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="80.375" x="103.8125" y="1182.5353">Event Bus</text></g><!--cluster query_side--><g id="cluster_query_side"><rect fill="none" height="598.32" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7.0,7.0;" width="417" x="289" y="1148.5783"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="457.978" y="1164.1134">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="89.2578" x="452.8711" y="1182.5353">Query Side</text></g><!--entity command_api--><g id="elem_command_api"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.2119" x="508.39" y="361.8083"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="539.3285" y="385.3434">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="115.3359" x="518.39" y="403.7653">Command API</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93.1699" x="518.39" y="418.7419">[REST/GraphQL]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="518.39" y="434.8083">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.2119" x="518.39" y="451.2966">Handles commands</text></g><!--entity command_handlers--><g id="elem_command_handlers"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.3359" x="491.83" y="553.2483"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="537.3305" y="576.7834">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="162.3359" x="501.83" y="595.2053">Command Handlers</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54.4922" x="501.83" y="610.1819">[Services]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="501.83" y="626.2483">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.0195" x="501.83" y="642.7366">Process commands</text></g><!--entity domain_model--><g id="elem_domain_model"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.7344" x="340.63" y="749.1883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="364.3297" y="772.7234">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="118.7344" x="350.63" y="791.1453">Domain Model</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74.0449" x="350.63" y="806.1219">[Aggregates]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="350.63" y="822.1883">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.71" x="350.63" y="838.6766">Business logic</text></g><!--entity event_publisher--><g id="elem_event_publisher"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.8086" x="341.1" y="945.1283"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="389.3368" y="968.6634">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="128.2734" x="351.1" y="987.0853">Event Publisher</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48.375" x="351.1" y="1002.0619">[Service]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="351.1" y="1018.1283">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.8086" x="351.1" y="1034.6166">Publishes domain events</text></g><!--entity write_db--><g id="elem_write_db"><path d="M514.1,754.6883 C514.1,744.6883 593.9975,744.6883 593.9975,744.6883 C593.9975,744.6883 673.8949,744.6883 673.8949,754.6883 L673.8949,846.1297 C673.8949,856.1297 593.9975,856.1297 593.9975,856.1297 C593.9975,856.1297 514.1,856.1297 514.1,846.1297 L514.1,754.6883 " fill="#85BBF0" style="stroke:#181818;stroke-width:0.5;"/><path d="M514.1,754.6883 C514.1,764.6883 593.9975,764.6883 593.9975,764.6883 C593.9975,764.6883 673.8949,764.6883 673.8949,754.6883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.6602" x="556.1674" y="782.2234">&#171;database&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="124.4844" x="524.1" y="800.6453">Write Database</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74.7012" x="524.1" y="815.6219">[SQL/NoSQL]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="524.1" y="831.6883">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.7949" x="524.1" y="848.1766">Optimized for writes</text></g><!--entity event_broker--><g id="elem_event_broker"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142.6914" x="62.65" y="1210.5783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="88.3282" y="1234.1134">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="105.0859" x="72.65" y="1252.5353">Event Broker</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="103.5469" x="72.65" y="1267.5119">[Kafka/RabbitMQ]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="72.65" y="1283.5783">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.6914" x="72.65" y="1300.0666">Distributes events</text></g><!--entity query_api--><g id="elem_query_api"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.9443" x="533.53" y="1210.5783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="552.3347" y="1234.1134">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="81.8359" x="543.53" y="1252.5353">Query API</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93.1699" x="543.53" y="1267.5119">[REST/GraphQL]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="543.53" y="1283.5783">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9443" x="543.53" y="1300.0666">Handles queries</text></g><!--entity query_handlers--><g id="elem_query_handlers"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.8359" x="522.58" y="1420.0183"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="551.3305" y="1443.5534">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="128.8359" x="532.58" y="1461.9753">Query Handlers</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54.4922" x="532.58" y="1476.9519">[Services]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="532.58" y="1493.0183">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.752" x="532.58" y="1509.5066">Process queries</text></g><!--entity read_models--><g id="elem_read_models"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.5957" x="503.7" y="1615.9583"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="543.3304" y="1639.4934">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="104.6641" x="513.7" y="1657.9153">Read Models</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39.8203" x="513.7" y="1672.8919">[DTOs]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="513.7" y="1688.9583">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.5957" x="513.7" y="1705.4466">Optimized for reading</text></g><!--entity projections--><g id="elem_projections"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163.623" x="313.19" y="1420.0183"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="349.334" y="1443.5534">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="91.9844" x="323.19" y="1461.9753">Projections</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54.4922" x="323.19" y="1476.9519">[Services]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="323.19" y="1493.0183">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.623" x="323.19" y="1509.5066">Updates read models</text></g><!--entity read_db--><g id="elem_read_db"><path d="M312.87,1621.4583 C312.87,1611.4583 391.0038,1611.4583 391.0038,1611.4583 C391.0038,1611.4583 469.1376,1611.4583 469.1376,1621.4583 L469.1376,1712.8997 C469.1376,1722.8997 391.0038,1722.8997 391.0038,1722.8997 C391.0038,1722.8997 312.87,1722.8997 312.87,1712.8997 L312.87,1621.4583 " fill="#85BBF0" style="stroke:#181818;stroke-width:0.5;"/><path d="M312.87,1621.4583 C312.87,1631.4583 391.0038,1631.4583 391.0038,1631.4583 C391.0038,1631.4583 469.1376,1631.4583 469.1376,1621.4583 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.6602" x="353.1737" y="1648.9934">&#171;database&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="122.1094" x="322.87" y="1667.4153">Read Database</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74.7012" x="322.87" y="1682.3919">[SQL/NoSQL]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="322.87" y="1698.4583">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.2676" x="322.87" y="1714.9466">Optimized for reads</text></g><!--entity customer--><g id="elem_customer"><ellipse cx="870.0004" cy="51.4883" fill="#08427B" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M870.0004,59.4883 L870.0004,86.4883 M857.0004,67.4883 L883.0004,67.4883 M870.0004,86.4883 L857.0004,101.4883 M870.0004,86.4883 L883.0004,101.4883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="79.8203" x="829.06" y="118.457">Customer</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="829.06" y="135.3672">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.8809" x="829.06" y="151.8555">System user</text></g><!--entity payment_system--><g id="elem_payment_system"><rect fill="#999999" height="88.3086" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156.4658" x="753.77" y="756.2583"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="124.9814" x="769.5122" y="779.7934">&#171;external_system&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="134.5938" x="763.77" y="798.2153">Payment System</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="763.77" y="815.1255">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.4658" x="763.77" y="831.6138">Processes payments</text></g><!--entity logistics_system--><g id="elem_logistics_system"><rect fill="#999999" height="88.3086" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.7422" x="945.13" y="756.2583"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="124.9814" x="961.5104" y="779.7934">&#171;external_system&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="137.7422" x="955.13" y="798.2153">Logistics System</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="955.13" y="815.1255">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.3955" x="955.13" y="831.6138">Handles deliveries</text></g><g id="elem_GMN34"><path d="M1209.06,369.7483 L1209.06,456.301 L1422.9399,456.301 L1422.9399,379.7483 L1412.9399,369.7483 L1209.06,369.7483 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1412.9399,369.7483 L1412.9399,379.7483 L1422.9399,379.7483 L1412.9399,369.7483 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.0933" x="1215.06" y="387.3166">Command Side:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.8799" x="1215.06" y="402.6272">- Handles business operations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.0098" x="1215.06" y="417.9377">- Validates commands</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.792" x="1215.06" y="433.2483">- Maintains consistency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.1201" x="1215.06" y="448.5588">- Generates domain events</text></g><g id="elem_GMN37"><path d="M753.87,1218.5183 L753.87,1305.071 L956.1273,1305.071 L956.1273,1228.5183 L946.1273,1218.5183 L753.87,1218.5183 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M946.1273,1218.5183 L946.1273,1228.5183 L956.1273,1228.5183 L946.1273,1218.5183 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.9316" x="759.87" y="1236.0866">Query Side:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.4741" x="759.87" y="1251.3972">- Optimized for reading</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.2573" x="759.87" y="1266.7077">- Denormalized data models</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.0093" x="759.87" y="1282.0183">- Eventually consistent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.1001" x="759.87" y="1297.3288">- Multiple specialized views</text></g><g id="elem_GMN40"><path d="M991.35,1226.1783 L991.35,1297.4205 L1214.6562,1297.4205 L1214.6562,1236.1783 L1204.6562,1226.1783 L991.35,1226.1783 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1204.6562,1226.1783 L1204.6562,1236.1783 L1214.6562,1236.1783 L1204.6562,1226.1783 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.3462" x="997.35" y="1243.7466">Event Bus:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.3062" x="997.35" y="1259.0572">- Asynchronous communication</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.1255" x="997.35" y="1274.3677">- Event distribution</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.1865" x="997.35" y="1289.6783">- Decoupling mechanism</text></g><!--link customer to command_api--><g id="link_customer_command_api"><path d="M828.78,115.3683 C783.43,134.2583 711.02,170.1983 666,221.8083 C630.72,262.2483 610.6856,314.5641 598.7456,355.8841 " fill="none" id="customer-to-command_api" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="597.08,361.6483,603.4212,354.1125,598.468,356.8448,595.7357,351.8916,597.08,361.6483" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.208" x="704.51" y="198.3766">Sends commands</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="60.9229" x="729.1526" y="210.7868">[HTTP/JSON]</text></g><!--link command_api to command_handlers--><g id="link_command_api_command_handlers"><path d="M584.47,464.2983 C584.18,491.6983 583.8834,519.5286 583.5934,546.9686 " fill="none" id="command_api-to-command_handlers" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="583.53,552.9683,587.6249,544.0111,583.5828,547.9686,579.6253,543.9265,583.53,552.9683" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.9663" x="585.12" y="507.8166">Routes to</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="611.8512" y="520.2268">[]</text></g><!--link command_handlers to domain_model--><g id="link_command_handlers_domain_model"><path d="M537.77,656.1683 C512.24,684.7883 484.4444,715.9612 458.9544,744.5312 " fill="none" id="command_handlers-to-domain_model" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="454.96,749.0083,463.9364,744.9556,458.2887,745.2774,457.9669,739.6297,454.96,749.0083" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.5039" x="507.86" y="699.2566">Uses</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="519.36" y="711.6668">[]</text></g><!--link domain_model to event_publisher--><g id="link_domain_model_event_publisher"><path d="M416.54,852.1183 C420.22,880.7383 424.0535,910.4274 427.7335,938.9974 " fill="none" id="domain_model-to-event_publisher" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="428.5,944.9483,431.3175,935.511,427.8612,939.9892,423.383,936.533,428.5,944.9483" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.0625" x="425" y="899.6966">Generates events</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="475.7793" y="912.1068">[]</text></g><!--link command_handlers to write_db--><g id="link_command_handlers_write_db"><path d="M585.88,656.1683 C587.41,683.2183 588.9605,710.5479 590.5305,738.2479 " fill="none" id="command_handlers-to-write_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="590.87,744.2383,594.3543,735.0264,590.5871,739.2463,586.3671,735.4791,590.87,744.2383" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.1353" x="590.16" y="699.2566">Persists state</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="628.4757" y="711.6668">[]</text></g><!--link event_publisher to event_broker--><g id="link_event_publisher_event_broker"><path d="M340.76,1040.0383 C297.08,1063.0483 246.64,1094.5583 209,1132.5783 C186.95,1154.8383 171.6469,1179.4936 158.8069,1204.8936 " fill="none" id="event_publisher-to-event_broker" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="156.1,1210.2483,163.7301,1204.0208,158.3557,1205.786,156.5905,1200.4116,156.1,1210.2483" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.3999" x="247.63" y="1109.1466">Publishes events</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="296.578" y="1121.5568">[]</text></g><!--link customer to query_api--><g id="link_customer_query_api"><path d="M911.28,120.3683 C990.48,162.8983 1156,268.8883 1156,412.0283 C1156,412.0283 1156,412.0283 1156,997.3583 C1156,1223.2683 842.2,991.1883 666,1132.5783 C641.34,1152.3683 626.7513,1178.0026 616.0113,1204.6726 " fill="none" id="customer-to-query_api" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="613.77,1210.2383,620.8424,1203.384,615.6377,1205.6002,613.4215,1200.3956,613.77,1210.2383" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.6738" x="1157" y="699.2566">Sends queries</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="60.9229" x="1170.3755" y="711.6668">[HTTP/JSON]</text></g><!--link query_api to query_handlers--><g id="link_query_api_query_handlers"><path d="M597.76,1313.2783 C597.6,1345.5383 597.4297,1381.2284 597.2697,1413.5284 " fill="none" id="query_api-to-query_handlers" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="597.24,1419.5283,601.2845,1410.5482,597.2648,1414.5283,593.2846,1410.5086,597.24,1419.5283" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.9663" x="598.5" y="1374.5866">Routes to</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="625.2312" y="1386.9968">[]</text></g><!--link query_handlers to read_models--><g id="link_query_handlers_read_models"><path d="M594.91,1522.9383 C593.73,1551.5583 592.5076,1581.2034 591.3276,1609.7734 " fill="none" id="query_handlers-to-read_models" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="591.08,1615.7683,595.448,1606.941,591.2863,1610.7725,587.4548,1606.6109,591.08,1615.7683" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.5039" x="594.48" y="1566.0266">Uses</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="605.98" y="1578.4368">[]</text></g><!--link query_handlers to read_db--><g id="link_query_handlers_read_db"><path d="M543.15,1522.9383 C514.42,1549.9883 483.3884,1579.1953 453.9684,1606.8953 " fill="none" id="query_handlers-to-read_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="449.6,1611.0083,458.8946,1607.751,453.2403,1607.5808,453.4106,1601.9265,449.6,1611.0083" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.7856" x="507.33" y="1566.0266">Reads from</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="539.9709" y="1578.4368">[]</text></g><!--link projections to read_db--><g id="link_projections_read_db"><path d="M389.92,1522.6883 C389.12,1532.5483 388.42,1542.8183 388,1552.4583 C387.17,1571.5983 387.2072,1586.5614 387.8072,1605.2214 " fill="none" id="projections-to-read_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="388,1611.2183,391.7087,1602.0944,387.8393,1606.2209,383.7128,1602.3515,388,1611.2183" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.2827" x="389" y="1566.0266">Updates</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="411.3894" y="1578.4368">[]</text></g><!--link event_broker to projections--><g id="link_event_broker_projections"><path d="M171.09,1313.0983 C182.45,1326.8483 195.52,1341.1983 209,1353.0183 C240.43,1380.5683 273.8396,1402.9371 307.6896,1423.0171 " fill="none" id="event_broker-to-projections" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="312.85,1426.0783,307.1502,1418.0463,308.5497,1423.5273,303.0687,1424.9268,312.85,1426.0783" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.6982" x="257.56" y="1374.5866">Triggers</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="280.6572" y="1386.9968">[]</text></g><!--link command_handlers to payment_system--><g id="link_command_handlers_payment_system"><path d="M648.1,656.1683 C687.87,687.1483 733.4665,722.6613 771.4165,752.2213 " fill="none" id="command_handlers-to-payment_system" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="776.15,755.9083,771.5078,747.2221,772.2054,752.8358,766.5918,753.5334,776.15,755.9083" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.0723" x="723.41" y="699.2566">Integrates with</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="767.1942" y="711.6668">[]</text></g><!--link command_handlers to logistics_system--><g id="link_command_handlers_logistics_system"><path d="M674.66,630.9283 C720.89,644.9583 777.32,663.9483 826,685.6883 C870.88,705.7383 913.618,729.9233 951.038,752.7533 " fill="none" id="command_handlers-to-logistics_system" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="956.16,755.8783,950.5603,747.7762,951.8917,753.2742,946.3937,754.6055,956.16,755.8783" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.0723" x="883.17" y="699.2566">Integrates with</text><text fill="#000000" font-family="sans-serif" font-size="10" font-style="italic" lengthAdjust="spacing" textLength="6.5039" x="926.9542" y="711.6668">[]</text></g><!--link command_side to GMN34--><g id="link_command_side_GMN34"><path d="M706.5701,413.0283 C709.2269,413.0283 711.8836,413.0283 714.5403,413.0283 C719.8537,413.0283 725.1671,413.0283 730.4805,413.0283 C741.1073,413.0283 751.7341,413.0283 762.3608,413.0283 C783.6143,413.0283 804.8677,413.0283 826.1209,413.0283 C868.6275,413.0283 911.1338,413.0283 953.64,413.0283 C1038.6525,413.0283 1123.665,413.0283 1208.68,413.0283 " fill="none" id="command_side-GMN34" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/></g><!--link query_side to GMN37--><g id="link_query_side_GMN37"><path d="M706.1281,1261.7983 C706.1997,1261.7983 706.2713,1261.7983 706.3429,1261.7983 C706.6293,1261.7983 706.9157,1261.7983 707.2021,1261.7983 C707.775,1261.7983 708.3478,1261.7983 708.9206,1261.7983 C710.0662,1261.7983 711.2118,1261.7983 712.3573,1261.7983 C716.9397,1261.7983 721.5219,1261.7983 726.1038,1261.7983 C735.2675,1261.7983 744.43,1261.7983 753.59,1261.7983 " fill="none" id="query_side-GMN37" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/></g><!--link event_bus to GMN40--><g id="link_event_bus_GMN40"><path d="M249.1691,1210.6575 C249.2284,1210.4163 249.2882,1210.1747 249.3485,1209.9327 C249.4689,1209.4486 249.591,1208.963 249.7149,1208.4759 C249.9626,1207.5017 250.2171,1206.5215 250.4787,1205.536 C251.5249,1201.5941 252.6836,1197.5675 253.9663,1193.4995 C264.2275,1160.9558 282.425,1125.7633 314.5,1110.0783 C378.58,1078.7383 890.84,1082.1983 956.5,1110.0783 C1011.61,1133.4683 1056.08,1188.8683 1081.03,1225.8483 " fill="none" id="event_bus-GMN40" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[jLTjRzis4FwkNy6v7x803TnswPOLQG3RSbwsn79iPqMn3W8jCJONILH9AgbNzB_l-2ABUd5S39W-619vzzp3uzr3-W2DZj4DYqc2V79FCoefouJtGwm-2BeUV0pk5k67gyLbU3s-64_yxTJyClWGJiUpUJ09fy5iCHjSBJplGE6D4vAIJAAvt2Ia0XiTXwFWPXfCnfD5U1x0poYu3cRenIlzTDiDBqghaxV3uNd3Qh8ON4t6ixrefLs5TlpJYU-_TQtc7-UByKqDwbm_7KOLpklNFvyCVTV4vkHv76jKuRmwENxpoz0r6GPt4tym-xXbh9z6Yczmn5cLuYdXWcK_aX0d58kNY8G9Nf94lSH4HFmGuKWoZdhltzkfJzcdp4xs41R8kbRRl16IfE6G5LcC-QO5VOWuYIJELWbnK7lez7HfNSxEkd17B9CONlZ_0PtcB8FiTEP1acYTEGdfYl4fEnNq7_BkzPkpFwt7NwTzDNHMozVfQLJ6saF5NtuNcHXBlCJYlt4fdRkfs8qSVv7FbKTtDcfXo1T9U8QJK6Z4xcWpaa2OUyvIlKpMNlKXClFewEXCcw1tgBUDsE_RLRzghRhVxwacKE92ivKd7cYMOuvJX_jN3y5p3YKsOWdZzMtQ8KFQPOYZXnLNrRNFiUpSPYIdDCkErS2CnuItRLfzxbXh-QnPnrYiITmCsTwGBZNhNb_RzyMl-l6-UKvgjtNvjGjcHsPg24PtThetzB2-n4vLLV2IIjZjG2NBrZSQtSxcQ8gbMfRdMJsC2Y5PIlXBr1lPrnwyMvT2mEUXvpMbpgG4xDm0lKExY0FLt2dEOZIdCT537PeM6PjGW8sAxhXiaOnhgLcb1ywfup2ONYd6i_5yqR_WE5_VNgllIvY38nPP9m7Bs8suriPSEB2NTaXdW_176X7zFkKCtlRWnYo5rOQfkZs0Zwy_pML2OGnMAqvMM1h4OI4WCm2Pi1MDEl788_o6UR5CA9Ivsgon6a7JSiHXgKdQSO4C4wG1NAxj8A33JvnAaBCb87nGhyYtnQtXRw_x4pOtsGroILEGd1ZTGn5glnBzcxV5Fq269gnmLnMObIqBiLqJ6E_OVslBsOEJWg7-L9n-n_SFk3_3ooMLDxTgnAT2SheiW5mz0pMEjmNXcsTBzREoA0krCjz1qrYR8ZN6UqfKEL3INKa6pAbFWxYlEf-3v0J7fZGLtWo-J6Lg07yHYFO6AnSuKJhXSix-XkD5NOuDWVAhoUqkZrN9Qp1aukyhI4rLrwEc-PtbgBogdVwcZiIn5NChLS9pplmSRzI5CToAsjGCbB9MfHN8MsC5xq2epXMIHg82kIw779Xoms7fzB7S8607LmAiKxQckK17TVbKzuLAfUiQE2UWG9KKgH2BnRJ_6vm7WAmzNViEkPintHsIAUU6JsNMqBCxONRKsjTdsrfrGQ2RiDE4puLoD4WTKP13WOG4RyUh5QAX39NyrG9sPDhf_NgUtIOsMIvRgYF9Zd6hNxiIt3IgTsGZkvt6svuGIDqK7VDQErQsjlbQIInpLk_Y1QUhbPKNaxX60zKJkMChMurrbKcoCfNmHENwsJheQAbkTo0tOJ3cPV2BWFXQ8dQFtEk5XsejzGw-Zr3PZClo-6MvgbBz9r_D_m7NTYDOPN_fuHieTNK-gE5CbIV9eesUgSgyTkXwK3r8SVCQ3AjJ1TohGZJiElLNp_WaOpm5ScfItJwjbkf9VIOME4as5JrfU1U9f3dS2KLE8chT7obvsarmUpO3mFPiDlG6OfD5QyuoLfZy51cDTF8g6YWkZzzos2SHAtBrtmIbyBy5PrIaLVH_0G00]--></g></svg>