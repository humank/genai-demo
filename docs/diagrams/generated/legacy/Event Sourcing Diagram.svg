<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="821px" preserveAspectRatio="none" style="width:1912px;height:821px;background:#FFFFFF;" version="1.1" viewBox="0 0 1912 821" width="1912px" zoomAndPan="magnify"><title>Order System Event Sourcing Pattern</title><defs/><g><g class="title" data-source-line="42"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="266.3623" x="815.9104" y="23.5352">Order System Event Sourcing Pattern</text></g><!--cluster application--><g class="cluster" data-entity="application" data-source-line="45" data-uid="ent0002" id="cluster_application"><rect fill="none" height="210.44" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="743" x="160.26" y="76.7305"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="492.238" y="92.2656">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="93.7266" x="484.8967" y="110.6875">Application</text></g><!--cluster event_store--><g class="cluster" data-entity="event_store" data-source-line="51" data-uid="ent0006" id="cluster_event_store"><rect fill="none" height="219.44" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="748" x="180.26" y="336.1705"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="514.738" y="351.7056">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="93.2344" x="507.6428" y="370.1275">Event Store</text></g><!--cluster projections--><g class="cluster" data-entity="projections" data-source-line="57" data-uid="ent0010" id="cluster_projections"><rect fill="none" height="210.44" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="1099" x="447.26" y="604.6105"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="957.238" y="620.1456">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="91.9844" x="950.7678" y="638.5675">Projections</text></g><!--cluster query_side--><g class="cluster" data-entity="query_side" data-source-line="65" data-uid="ent0016" id="cluster_query_side"><rect fill="none" height="219.44" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1;stroke-dasharray:7,7;" width="455" x="972.26" y="336.1705"/><text fill="#444444" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79.0439" x="1160.238" y="351.7056">&#171;boundary&#187;</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="89.2578" x="1155.1311" y="370.1275">Query Side</text></g><!--entity command_handler--><g class="entity" data-entity="command_handler" data-source-line="46" data-uid="ent0003" id="entity_command_handler"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173.2891" x="403.62" y="168.7305"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="444.5971" y="192.2656">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="153.2891" x="413.62" y="210.6875">Command Handler</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48.375" x="413.62" y="225.6641">[Service]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="413.62" y="241.7305">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.9561" x="413.62" y="258.2188">Processes commands</text></g><!--entity aggregate--><g class="entity" data-entity="aggregate" data-source-line="47" data-uid="ent0004" id="entity_aggregate"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.3281" x="729.1" y="168.7305"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="762.5966" y="192.2656">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="138.3281" x="739.1" y="210.6875">Order Aggregate</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92.1211" x="739.1" y="225.6641">[Domain Model]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="739.1" y="241.7305">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.71" x="739.1" y="258.2188">Business logic</text></g><!--entity event_store_client--><g class="entity" data-entity="event_store_client" data-source-line="48" data-uid="ent0005" id="entity_event_store_client"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192.0811" x="176.22" y="168.7305"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="226.593" y="192.2656">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="146.6797" x="186.22" y="210.6875">Event Store Client</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41.666" x="186.22" y="225.6641">[Client]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="186.22" y="241.7305">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172.0811" x="186.22" y="258.2188">Interacts with event store</text></g><!--entity event_log--><g class="entity" data-entity="event_log" data-source-line="52" data-uid="ent0007" id="entity_event_log"><path d="M196.39,438.1705 C196.39,428.1705 265.2621,428.1705 265.2621,428.1705 C265.2621,428.1705 334.1341,428.1705 334.1341,438.1705 L334.1341,529.6119 C334.1341,539.6119 265.2621,539.6119 265.2621,539.6119 C265.2621,539.6119 196.39,539.6119 196.39,529.6119 L196.39,438.1705" fill="#85BBF0" style="stroke:#181818;stroke-width:0.5;"/><path d="M196.39,438.1705 C196.39,448.1705 265.2621,448.1705 265.2621,448.1705 C265.2621,448.1705 334.1341,448.1705 334.1341,438.1705" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.6602" x="227.432" y="465.7056">&#171;database&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="80.8203" x="206.39" y="484.1275">Event Log</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117.7441" x="206.39" y="499.1041">[Append-only store]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="206.39" y="515.1705">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.6328" x="206.39" y="531.6588">Stores all events</text></g><!--entity event_publisher--><g class="entity" data-entity="event_publisher" data-source-line="53" data-uid="ent0008" id="entity_event_publisher"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233.3223" x="435.6" y="432.6705"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="506.5937" y="456.2056">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="128.2734" x="445.6" y="474.6275">Event Publisher</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48.375" x="445.6" y="489.6041">[Service]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="445.6" y="505.6705">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.3223" x="445.6" y="522.1588">Publishes events to subscribers</text></g><!--entity snapshot_store--><g class="entity" data-entity="snapshot_store" data-source-line="54" data-uid="ent0009" id="entity_snapshot_store"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208.2822" x="704.12" y="432.6705"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="762.5936" y="456.2056">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="123.6797" x="714.12" y="474.6275">Snapshot Store</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61.5176" x="714.12" y="489.6041">[Database]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="714.12" y="505.6705">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188.2822" x="714.12" y="522.1588">Stores aggregate snapshots</text></g><!--entity projection_engine--><g class="entity" data-entity="projection_engine" data-source-line="58" data-uid="ent0011" id="entity_projection_engine"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163.9688" x="463.28" y="696.6105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="499.5969" y="720.1456">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="143.9688" x="473.28" y="738.5675">Projection Engine</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48.375" x="473.28" y="753.5441">[Service]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="473.28" y="769.6105">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.584" x="473.28" y="786.0988">Processes events</text></g><!--entity order_projection--><g class="entity" data-entity="order_projection" data-source-line="59" data-uid="ent0012" id="entity_order_projection"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155.9063" x="1161.31" y="696.6105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="1193.5956" y="720.1456">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="135.9063" x="1171.31" y="738.5675">Order Projection</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65.9766" x="1171.31" y="753.5441">[Projection]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1171.31" y="769.6105">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.2031" x="1171.31" y="786.0988">Order read model</text></g><!--entity payment_projection--><g class="entity" data-entity="payment_projection" data-source-line="60" data-uid="ent0013" id="entity_payment_projection"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178.6406" x="1351.94" y="696.6105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="1395.5928" y="720.1456">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="158.6406" x="1361.94" y="738.5675">Payment Projection</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65.9766" x="1361.94" y="753.5441">[Projection]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1361.94" y="769.6105">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.8379" x="1361.94" y="786.0988">Payment read model</text></g><!--entity delivery_projection--><g class="entity" data-entity="delivery_projection" data-source-line="61" data-uid="ent0014" id="entity_delivery_projection"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176.1484" x="731.19" y="696.6105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="773.5967" y="720.1456">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="156.1484" x="741.19" y="738.5675">Delivery Projection</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65.9766" x="741.19" y="753.5441">[Projection]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="741.19" y="769.6105">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.7275" x="741.19" y="786.0988">Delivery read model</text></g><!--entity analytics_projection--><g class="entity" data-entity="analytics_projection" data-source-line="62" data-uid="ent0015" id="entity_analytics_projection"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183.6875" x="942.42" y="696.6105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="988.5963" y="720.1456">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="163.6875" x="952.42" y="738.5675">Analytics Projection</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65.9766" x="952.42" y="753.5441">[Projection]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="952.42" y="769.6105">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9717" x="952.42" y="786.0988">Analytics data</text></g><!--entity read_models--><g class="entity" data-entity="read_models" data-source-line="66" data-uid="ent0017" id="entity_read_models"><path d="M988.73,438.1705 C988.73,428.1705 1073.2656,428.1705 1073.2656,428.1705 C1073.2656,428.1705 1157.8013,428.1705 1157.8013,438.1705 L1157.8013,529.6119 C1157.8013,539.6119 1073.2656,539.6119 1073.2656,539.6119 C1073.2656,539.6119 988.73,539.6119 988.73,529.6119 L988.73,438.1705" fill="#85BBF0" style="stroke:#181818;stroke-width:0.5;"/><path d="M988.73,438.1705 C988.73,448.1705 1073.2656,448.1705 1073.2656,448.1705 C1073.2656,448.1705 1157.8013,448.1705 1157.8013,438.1705" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.6602" x="1035.4356" y="465.7056">&#171;database&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="104.6641" x="998.73" y="484.1275">Read Models</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61.5176" x="998.73" y="499.1041">[Database]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="998.73" y="515.1705">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.0713" x="998.73" y="531.6588">Optimized for queries</text></g><!--entity query_api--><g class="entity" data-entity="query_api" data-source-line="67" data-uid="ent0018" id="entity_query_api"><rect fill="#85BBF0" height="102.4414" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.9443" x="1282.79" y="432.6705"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.335" x="1301.5947" y="456.2056">&#171;component&#187;</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="81.8359" x="1292.79" y="474.6275">Query API</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93.1699" x="1292.79" y="489.6041">[REST/GraphQL]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="1292.79" y="505.6705">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9443" x="1292.79" y="522.1588">Handles queries</text></g><!--entity external_systems--><g class="entity" data-entity="external_systems" data-source-line="71" data-uid="ent0019" id="entity_external_systems"><rect fill="#999999" height="88.3086" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.5234" x="7" y="703.6805"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="124.9814" x="24.771" y="727.2156">&#171;external_system&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="140.5234" x="17" y="745.6375">External Systems</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="17" y="762.5477">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5996" x="17" y="779.0359">Subscribers</text></g><g class="entity" data-entity="GMN43" data-source-line="100" data-uid="ent0044" id="entity_GMN43"><path d="M1446.52,440.6105 L1446.52,527.1632 L1672.0034,527.1632 L1672.0034,450.6105 L1662.0034,440.6105 L1446.52,440.6105" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1662.0034,440.6105 L1662.0034,450.6105 L1672.0034,450.6105 L1662.0034,440.6105" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.1968" x="1452.52" y="458.1788">Event Log:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.4834" x="1452.52" y="473.4894">- Immutable, append-only store</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.082" x="1452.52" y="488.7999">- Source of truth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1919" x="1452.52" y="504.1105">- Complete audit trail</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.0693" x="1452.52" y="519.421">- Enables temporal queries</text></g><g class="entity" data-entity="GMN46" data-source-line="108" data-uid="ent0047" id="entity_GMN46"><path d="M1565.25,704.5505 L1565.25,791.1032 L1819.2725,791.1032 L1819.2725,714.5505 L1809.2725,704.5505 L1565.25,704.5505" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1809.2725,704.5505 L1809.2725,714.5505 L1819.2725,714.5505 L1809.2725,704.5505" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7598" x="1571.25" y="722.1188">Projections:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.0225" x="1571.25" y="737.4294">- Transform events into read models</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.2725" x="1571.25" y="752.7399">- Can be rebuilt from event log</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.1001" x="1571.25" y="768.0505">- Multiple specialized views</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.0093" x="1571.25" y="783.361">- Eventually consistent</text></g><g class="entity" data-entity="GMN49" data-source-line="116" data-uid="ent0050" id="entity_GMN49"><path d="M1707.35,440.6105 L1707.35,527.1632 L1905.183,527.1632 L1905.183,450.6105 L1895.183,440.6105 L1707.35,440.6105" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1895.183,440.6105 L1895.183,450.6105 L1905.183,450.6105 L1895.183,440.6105" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.7134" x="1713.35" y="458.1788">Snapshots:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.8525" x="1713.35" y="473.4894">- Performance optimization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.8638" x="1713.35" y="488.7999">- Periodic state captures</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.833" x="1713.35" y="504.1105">- Reduces event replay time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2725" x="1713.35" y="519.421">- Not source of truth</text></g><g class="entity" data-entity="GMN52" data-source-line="124" data-uid="ent0053" id="entity_GMN52"><path d="M202.63,704.5505 L202.63,743.8305 L167.86,747.8305 L202.63,751.8305 L202.63,791.1032 A0,0 0 0 0 202.63,791.1032 L427.8976,791.1032 A0,0 0 0 0 427.8976,791.1032 L427.8976,714.5505 L417.8976,704.5505 L202.63,704.5505 A0,0 0 0 0 202.63,704.5505" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M417.8976,704.5505 L417.8976,714.5505 L427.8976,714.5505 L417.8976,704.5505" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.1592" x="208.63" y="722.1188">Event Subscribers:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.2676" x="208.63" y="737.4294">- Integration with other systems</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.9941" x="208.63" y="752.7399">- Analytics processing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.5205" x="208.63" y="768.0505">- Notifications</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.6523" x="208.63" y="783.361">- Workflow triggers</text></g><!--link command_handler to aggregate--><g class="link" data-entity-1="command_handler" data-entity-2="aggregate" data-source-line="74" data-uid="lnk20" id="link_command_handler_aggregate"><path d="M577.16,219.9505 C624.51,219.9505 676.69,219.9505 722.82,219.9505" fill="none" id="command_handler-to-aggregate" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="728.82,219.9505,719.82,215.9505,723.82,219.9505,719.82,223.9505,728.82,219.9505" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.0859" x="595" y="213.5188">1. Loads/executes</text></g><!--link aggregate to event_store_client--><g class="link" data-entity-1="aggregate" data-entity-2="event_store_client" data-source-line="75" data-uid="lnk21" id="link_aggregate_event_store_client"><path d="M747.8,168.4505 C707.26,137.4205 651.08,100.8305 594.26,84.3505 C505.48,58.5905 470.06,45.3205 386.26,84.3505 C349.04,101.6805 322.8778,132.7591 303.2578,163.3691" fill="none" id="aggregate-to-event_store_client" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="300.02,168.4205,308.2443,163.0019,302.7182,164.211,301.5091,158.6848,300.02,168.4205" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.7607" x="500.76" y="57.2988">2. Emits events</text></g><!--link event_store_client to event_log--><g class="link" data-entity-1="event_store_client" data-entity-2="event_log" data-source-line="76" data-uid="lnk22" id="link_event_store_client_event_log"><path d="M270.91,271.4505 C269.71,316.3505 268.1198,375.8426 266.8898,422.0226" fill="none" id="event_store_client-to-event_log" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="266.73,428.0205,270.9682,419.1302,266.8631,423.0222,262.971,418.9172,266.73,428.0205" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.7842" x="271" y="316.7388">3. Appends events</text></g><!--link event_log to event_publisher--><g class="link" data-entity-1="event_log" data-entity-2="event_publisher" data-source-line="77" data-uid="lnk23" id="link_event_log_event_publisher"><path d="M334.37,483.8905 C364.64,483.8905 395.02,483.8905 429.3,483.8905" fill="none" id="event_log-to-event_publisher" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="435.3,483.8905,426.3,479.8905,430.3,483.8905,426.3,487.8905,435.3,483.8905" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.0635" x="352.37" y="477.4588">4. Notifies</text></g><!--link event_publisher to projection_engine--><g class="link" data-entity-1="event_publisher" data-entity-2="projection_engine" data-source-line="80" data-uid="lnk24" id="link_event_publisher_projection_engine"><path d="M550.91,535.3905 C549.67,581.7805 548.0105,644.1426 546.7705,690.4826" fill="none" id="event_publisher-to-projection_engine" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="546.61,696.4805,550.8493,687.5907,546.7437,691.4823,542.8522,687.3767,546.61,696.4805" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8467" x="550.8" y="585.1788">5. Publishes events</text></g><!--link event_publisher to external_systems--><g class="link" data-entity-1="event_publisher" data-entity-2="external_systems" data-source-line="81" data-uid="lnk25" id="link_event_publisher_external_systems"><path d="M435.23,534.7405 C407.99,545.2205 378.87,555.5305 351.26,563.6105 C279.07,584.7405 247.58,554.4805 185.26,596.6105 C146.95,622.5105 122.6117,663.4569 106.8317,697.8569" fill="none" id="event_publisher-to-external_systems" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="104.33,703.3105,111.7182,696.7979,106.4147,698.7658,104.4468,693.4623,104.33,703.3105" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8467" x="306.33" y="585.1788">5. Publishes events</text></g><!--link projection_engine to order_projection--><g class="link" data-entity-1="projection_engine" data-entity-2="order_projection" data-source-line="82" data-uid="lnk26" id="link_projection_engine_order_projection"><path d="M591.09,696.1905 C622.09,665.3305 665.9,628.9605 713.26,612.2305 C803.36,580.4005 1058.39,568.3305 1143.26,612.2305 C1177.34,629.8505 1199.1627,660.4415 1214.9127,690.8815" fill="none" id="projection_engine-to-order_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1217.67,696.2105,1217.0867,686.3789,1215.3723,691.7697,1209.9815,690.0552,1217.67,696.2105" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.7295" x="900.76" y="585.1788">6. Updates</text></g><!--link projection_engine to payment_projection--><g class="link" data-entity-1="projection_engine" data-entity-2="payment_projection" data-source-line="83" data-uid="lnk27" id="link_projection_engine_payment_projection"><path d="M591.09,696.1905 C622.09,665.3305 665.9,628.9605 713.26,612.2305 C843.38,566.2705 1210.08,552.0305 1334.26,612.2305 C1370.29,629.6905 1394.7819,660.6583 1412.8919,691.2283" fill="none" id="projection_engine-to-payment_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1415.95,696.3905,1414.8043,686.6085,1413.4016,692.0887,1407.9214,690.686,1415.95,696.3905" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.7295" x="974.76" y="585.1788">6. Updates</text></g><!--link projection_engine to delivery_projection--><g class="link" data-entity-1="projection_engine" data-entity-2="delivery_projection" data-source-line="84" data-uid="lnk28" id="link_projection_engine_delivery_projection"><path d="M627.47,747.8305 C660.1,747.8305 691.7,747.8305 724.91,747.8305" fill="none" id="projection_engine-to-delivery_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="730.91,747.8305,721.91,743.8305,725.91,747.8305,721.91,751.8305,730.91,747.8305" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.7295" x="645.72" y="741.3988">6. Updates</text></g><!--link projection_engine to analytics_projection--><g class="link" data-entity-1="projection_engine" data-entity-2="analytics_projection" data-source-line="85" data-uid="lnk29" id="link_projection_engine_analytics_projection"><path d="M591.09,696.1905 C622.09,665.3305 665.9,628.9605 713.26,612.2305 C802.1,580.8505 840.29,571.5105 925.26,612.2305 C961.63,629.6505 986.6001,660.6493 1005.1401,691.2393" fill="none" id="projection_engine-to-analytics_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1008.25,696.3705,1007.0059,686.6005,1005.6584,692.0945,1000.1644,690.747,1008.25,696.3705" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.7295" x="826.76" y="585.1788">6. Updates</text></g><!--reverse link read_models to order_projection--><g class="link" data-entity-1="read_models" data-entity-2="order_projection" data-source-line="88" data-uid="lnk31" id="link_read_models_order_projection"><path d="M1122.1113,544.6892 C1129.9913,555.0092 1134.26,561.1005 1141.26,571.6105 C1168.21,612.0805 1194.89,660.4705 1213.59,696.1405" fill="none" id="read_models-backto-order_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1118.47,539.9205,1120.7527,549.5011,1121.5044,543.8944,1127.1111,544.6461,1118.47,539.9205" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.3379" x="1151.14" y="585.1788">7. Writes to</text></g><!--reverse link read_models to payment_projection--><g class="link" data-entity-1="read_models" data-entity-2="payment_projection" data-source-line="89" data-uid="lnk33" id="link_read_models_payment_projection"><path d="M1163.7407,522.2529 C1237.0407,552.7129 1326.78,590.5805 1334.26,596.6105 C1368.05,623.8305 1396.04,664.3205 1414.92,696.4005" fill="none" id="read_models-backto-payment_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1158.2,519.9505,1164.976,527.0979,1162.8172,521.8692,1168.0459,519.7103,1158.2,519.9505" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.3379" x="1317.53" y="585.1788">7. Writes to</text></g><!--reverse link read_models to delivery_projection--><g class="link" data-entity-1="read_models" data-entity-2="delivery_projection" data-source-line="90" data-uid="lnk35" id="link_read_models_delivery_projection"><path d="M983.2484,541.8425 C964.0884,551.7325 948.69,557.9505 928.26,563.6105 C908.54,569.0805 758.41,556.8305 744.26,571.6105 C711.08,606.2605 739.55,657.8805 770.47,696.1205" fill="none" id="read_models-backto-delivery_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="988.58,539.0905,978.7479,539.6642,984.137,541.3839,982.4173,546.773,988.58,539.0905" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.3379" x="745.26" y="585.1788">7. Writes to</text></g><!--reverse link read_models to analytics_projection--><g class="link" data-entity-1="read_models" data-entity-2="analytics_projection" data-source-line="91" data-uid="lnk37" id="link_read_models_analytics_projection"><path d="M1064.2064,545.7351 C1057.3264,591.9451 1048.45,651.5405 1041.77,696.4305" fill="none" id="read_models-backto-analytics_projection" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1065.09,539.8005,1059.8082,548.1133,1064.3537,544.746,1067.721,549.2914,1065.09,539.8005" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.3379" x="1060.53" y="585.1788">7. Writes to</text></g><!--reverse link read_models to query_api--><g class="link" data-entity-1="read_models" data-entity-2="query_api" data-source-line="92" data-uid="lnk39" id="link_read_models_query_api"><path d="M1164.08,483.8905 C1204.16,483.8905 1245.24,483.8905 1282.41,483.8905" fill="none" id="read_models-backto-query_api" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1158.08,483.8905,1167.08,487.8905,1163.08,483.8905,1167.08,479.8905,1158.08,483.8905" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.2324" x="1176.29" y="477.4588">8. Reads from</text></g><!--link event_store_client to snapshot_store--><g class="link" data-entity-1="event_store_client" data-entity-2="snapshot_store" data-source-line="95" data-uid="lnk40" id="link_event_store_client_snapshot_store"><path d="M338.85,271.6105 C353.78,280.8305 370.03,289.3605 386.26,295.1705 C402.05,300.8105 671.6,320.0405 686.26,328.1705 C728.74,351.7205 758.5848,391.5807 779.4548,427.0107" fill="none" id="event_store_client-to-snapshot_store" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="782.5,432.1805,781.3786,422.3957,779.9623,427.8723,774.4856,426.456,782.5,432.1805" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.3555" x="633.07" y="316.7388">Creates/loads snapshots</text></g><!--reverse link aggregate to snapshot_store--><g class="link" data-entity-1="aggregate" data-entity-2="snapshot_store" data-source-line="96" data-uid="lnk42" id="link_aggregate_snapshot_store"><path d="M808.26,277.4505 C808.26,323.8405 808.26,386.2005 808.26,432.5405" fill="none" id="aggregate-backto-snapshot_store" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="808.26,271.4505,804.26,280.4505,808.26,276.4505,812.26,280.4505,808.26,271.4505" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.0132" x="809.26" y="316.7388">Restores state</text></g><!--link event_log to GMN43--><g class="link" data-entity-1="event_log" data-entity-2="GMN43" data-source-line="100" data-uid="lnk45" id="link_event_log_GMN43"><path d="M301.34,427.9505 C331.57,386.8005 378.87,334.2605 435.76,311.6705 C486.05,291.7005 1359.47,291.7005 1409.76,311.6705 C1469.19,335.2705 1513.14,397.6305 1537.48,440.4605" fill="none" id="event_log-GMN43" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link projection_engine to GMN46--><g class="link" data-entity-1="projection_engine" data-entity-2="GMN46" data-source-line="108" data-uid="lnk48" id="link_projection_engine_GMN46"><path d="M584.09,696.2005 C617.81,656.0005 670.59,603.2805 730.76,580.1105 C772.13,564.1805 1487.56,563.7505 1528.76,580.1105 C1588.85,603.9705 1637.37,662.8905 1665.51,704.1205" fill="none" id="projection_engine-GMN46" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link snapshot_store to GMN49--><g class="link" data-entity-1="snapshot_store" data-entity-2="GMN49" data-source-line="116" data-uid="lnk51" id="link_snapshot_store_GMN49"><path d="M844.37,432.5405 C876.95,391.0805 929,335.7905 989.76,311.6705 C1024.98,297.6805 1636.55,297.6805 1671.76,311.6705 C1728.88,334.3505 1767.57,397.2905 1788.28,440.4505" fill="none" id="snapshot_store-GMN49" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[dLVRRjiu47ttLt3TXsw1scdQjCqMQG1Vb3Q0OxksWw3OBWHQOcnk9L9BKaczHVzzXnTP5zDsi7emnD7CcU4Cvt3y70tEq0sFIOA6v9uogYXdilLRh1S4ZNfV9xUByEvwyJaS1P-2yN3xQVvvSXTEWzbyCWwdazbYrhjUj5hFDLwGa9GmXUPgav0IR70M3YOtqyau62_2gmdy32QZoGmzUsKUlrx_Kw5r_hRVlsfeZHUzwt4mEufMw9LePs_EXyEtLQtvr_aYkAb1NPd7erJYd9w-E-yFgoek9uTnd5A9y-hyxFNxVbMbFxaT3tkphzk8pTD8yGsE1A-ac3E5uKM4VPwp68lDxoJ42SNo9I9XWfSaUO44YHHcguIWziUFJjf65nTBPt9vYR14pgu2dMQSWSyTHFsYIBHc-YKcCX9-7z_OXQJ_aW-dho__T1P_NPneqUKtzeqvMnr9LFWw4ifm-QHWOgpm4il_5qjXx0zblf6Af67mmv-MWzcekI4_514C9w4qY7vlCvA4Ct1qBtXgDiehPRLYr15qjLQTI_CPVK3jei8rbD4nb8JS7mKP7WE9-ICx1d9x32JFV13G1ffUA5krv7VACYnmMidppnQ2vmhQOS0JBkf7QWyH6PC-ZhwlXEw4OuP5xpOzLTgew5a3p4LCnAxEJgTNj0s1rhHZBDSaRhhSFJm-FlFlRzVssH_cQVrgLLAxxQ6VFfWzcG44HHMKOw9tuve51G_cSk2vYA1yQ8gLZi0GMv5hsV8m6SwoX4POtr0lKRjNhjelN5GbHq7LKipYS0q_2H6WFx0IzDbAsY2Q4_508w9Vfu97H4eYaREKxHSDIBnQ2RB2Ye2wtK-la6Y48KyXNdkNwdK_bn2-b2ZXAnhje16TX50gBaWO9HGMOECoeuLeO8GQgNoxPf0f72c97gbQ8uE130RWGx9zz5_wgJlOJPfcKwCD4MzrHtpLjjacBEvmbcoSGvq__I8HJX8RYjopoonV9XJEhTYYJWj9imnEBXqWWgwN-H8uaYw9sCMN36TopSiDpft0xL7NnHtSQi15tL1XB_VcBnFyRs0LFHNPOrAiF8Ukr0q9Mm5EpG85HhRtuEr9eI62i8JUdhuIkLtpqzvg289Zb9e3sKJDy2OrfQdYJgtm87AXSm0RPFI1Y4qTVEYa1z6tIWVWCP3LHj58rl5xXVYWWr9B4zhUgl-Jw_WbZNK9l-W5ciF2spCwrD24ga_8J0TkI40sJzyaKpI52ID6zy2OsWKbk_Mshd56jvvxqsjjFWlcYvDF0cVhBoEzjaGcAq2_D8S6ZiyTsyfMTKIfSxsEjwbkZcUjum0Jxcb3j79DCuawgE3IguG_jknGiaEuLReyxGAFu5YUa1yaofK9rffLjBoC-BgBWfIgIdUu6SYZN2MlDrraAMkFfT7QPQUpBXfpHUzjFZqxT_HbcrOF7suEQYBvgE1j5pNvpKNb0V2KQh_zp4Sz7k9urqMt6HnySj3GomrFC_Mt_jDiz_HrpTXJ4TiZsvDuwo7CUeU-xw8xGG4FBXSNpwsN3vzWvjtl4-pyUprgEAgoGrtxl8iqzKYaXsP_fegxKTRENBs7TYxK0RY164uItR-r-zBkf6bGRViPaVR2bKeFIIOeQ2yYMmn-aVcZWlXzsRX0XTkfumCiEkWwJNDWq4GZDqSGes36IA9HbCZLsiWqcIO4FE0yfWe-O9gO3m7JK91G0cmhWFGSTxO06EcOMet8Teufm5Hc01lZGc0cWTBJOcYX3CQMyWQJDYZCq1AWoJAdYJ9bSWEStNW7tUI9eX0uaXc9AFppqrV50oMF5i1a9eTXQmCpAfCKQ86flP7Nwm80s-hReAT4w90nqycp5vCvBCL7ocCQsSAX26SgXpgQRpCIvr51GB2TBC4R1FQs751U91ibsHTYa-AsrQ_SF-uKmDox4YO-E_bo1II9IhiEAY_sh2Hd5n7mkVsZO5NlkFX-3tm1uT7L2foK4Vu7]--></g></svg>