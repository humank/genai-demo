<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="851px" preserveAspectRatio="none" style="width:1823px;height:851px;background:#FFFFFF;" version="1.1" viewBox="0 0 1823 851" width="1823px" zoomAndPan="magnify"><defs/><g><!--cluster Domain Layer--><g class="cluster" data-entity="Domain Layer" data-source-line="9" data-uid="ent0002" id="cluster_Domain Layer"><path d="M8.5,6 L108.8125,6 A3.75,3.75 0 0 1 111.3125,8.5 L118.3125,28.4883 L1813.5,28.4883 A2.5,2.5 0 0 1 1816,30.9883 L1816,500.9 A2.5,2.5 0 0 1 1813.5,503.4 L8.5,503.4 A2.5,2.5 0 0 1 6,500.9 L6,8.5 A2.5,2.5 0 0 1 8.5,6" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="118.3125" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99.3125" x="10" y="21.5352">Domain Layer</text></g><!--cluster Infrastructure Layer--><g class="cluster" data-entity="Infrastructure Layer" data-source-line="71" data-uid="ent0014" id="cluster_Infrastructure Layer"><path d="M696.5,552.4 L841.4854,552.4 A3.75,3.75 0 0 1 843.9854,554.9 L850.9854,574.8883 L1659.5,574.8883 A2.5,2.5 0 0 1 1662,577.3883 L1662,731.34 A2.5,2.5 0 0 1 1659.5,733.84 L696.5,733.84 A2.5,2.5 0 0 1 694,731.34 L694,554.9 A2.5,2.5 0 0 1 696.5,552.4" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="694" x2="850.9854" y1="574.8883" y2="574.8883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="143.9854" x="698" y="567.9352">Infrastructure Layer</text></g><!--class DomainEvent--><g class="entity" data-entity="DomainEvent" data-source-line="10" data-uid="ent0003" id="entity_DomainEvent"><rect fill="#F5F5F5" height="80.9766" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="244.4355" x="21.78" y="49.25"/><ellipse cx="92.0569" cy="65.25" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M88.4846,61.5151 L88.4846,59.3569 L95.864,59.3569 L95.864,61.5151 L93.3987,61.5151 L93.3987,69.5918 L95.864,69.5918 L95.864,71.75 L88.4846,71.75 L88.4846,69.5918 L90.9499,69.5918 L90.9499,61.5151 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="95.3818" x="112.5569" y="70.541">DomainEvent</text><line style="stroke:#999999;stroke-width:0.5;" x1="22.78" x2="265.2155" y1="81.25" y2="81.25"/><line style="stroke:#999999;stroke-width:0.5;" x1="22.78" x2="265.2155" y1="89.25" y2="89.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.2324" x="27.78" y="106.7852">+getEventId(): String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.4355" x="27.78" y="123.2734">+getOccurredOn(): LocalDateTime</text></g><!--class EventHandler--><g class="entity" data-entity="EventHandler" data-source-line="15" data-uid="ent0004" id="entity_EventHandler"><rect fill="#F5F5F5" height="64.4883" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="165.6172" x="301.19" y="57.49"/><ellipse cx="327.6646" cy="73.49" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M324.0923,69.7551 L324.0923,67.5969 L331.4717,67.5969 L331.4717,69.7551 L329.0064,69.7551 L329.0064,77.8318 L331.4717,77.8318 L331.4717,79.99 L324.0923,79.99 L324.0923,77.8318 L326.5576,77.8318 L326.5576,69.7551 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="96.5303" x="344.2145" y="78.781">EventHandler</text><rect fill="#F5F5F5" height="16.1328" style="stroke:#999999;stroke-width:1;stroke-dasharray:2,2;" width="9.5879" x="460.2193" y="54.49"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7.5879" x="461.2193" y="67.0916">T</text><line style="stroke:#999999;stroke-width:0.5;" x1="302.19" x2="465.8072" y1="89.49" y2="89.49"/><line style="stroke:#999999;stroke-width:0.5;" x1="302.19" x2="465.8072" y1="97.49" y2="97.49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.6172" x="307.19" y="115.0252">+handle(T event): void</text></g><!--class EventSubscriber--><g class="entity" data-entity="EventSubscriber" data-source-line="19" data-uid="ent0005" id="entity_EventSubscriber"><rect fill="#F5F5F5" height="64.4883" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="292.6084" x="1201.7" y="240.2"/><ellipse cx="1285.5633" cy="256.2" fill="#E3664A" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1288.1399,256.4261 Q1288.1399,255.4881 1287.7166,254.9568 Q1287.2933,254.4256 1286.5545,254.4256 Q1285.8157,254.4256 1285.3965,254.9568 Q1284.9773,255.4881 1284.9773,256.4261 Q1284.9773,257.3724 1285.3965,257.9036 Q1285.8157,258.4349 1286.5545,258.4349 Q1287.2933,258.4349 1287.7166,257.9036 Q1288.1399,257.3724 1288.1399,256.4261 Z M1289.6839,259.8294 L1288.0569,259.8294 L1288.0569,259.1487 Q1287.7415,259.5887 1287.314,259.792 Q1286.8865,259.9954 1286.2889,259.9954 Q1284.9275,259.9954 1284.0933,259.0159 Q1283.2591,258.0364 1283.2591,256.4261 Q1283.2591,254.824 1284.0892,253.8487 Q1284.9192,252.8733 1286.2889,252.8733 Q1286.8782,252.8733 1287.3265,253.0767 Q1287.7747,253.2801 1288.0569,253.6702 L1288.0569,253.3299 Q1288.0569,252.201 1287.4385,251.5867 Q1286.8201,250.9725 1285.6746,250.9725 Q1283.948,250.9725 1282.8565,252.4915 Q1281.7649,254.0105 1281.7649,256.4427 Q1281.7649,258.991 1283.0267,260.4976 Q1284.2884,262.0042 1286.3885,262.0042 Q1287.0525,262.0042 1287.6751,261.8091 Q1288.2977,261.6141 1288.8704,261.2239 L1289.6341,262.6849 Q1288.9617,263.1414 1288.169,263.3697 Q1287.3763,263.5979 1286.4715,263.5979 Q1283.5662,263.5979 1281.8396,261.6639 Q1280.1131,259.7298 1280.1131,256.4427 Q1280.1131,253.2303 1281.6653,251.3003 Q1283.2176,249.3704 1285.7742,249.3704 Q1287.5838,249.3704 1288.6338,250.462 Q1289.6839,251.5535 1289.6839,253.4378 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="116.3818" x="1306.0633" y="261.491">EventSubscriber</text><line style="stroke:#999999;stroke-width:0.5;" x1="1202.7" x2="1493.3084" y1="272.2" y2="272.2"/><line style="stroke:#999999;stroke-width:0.5;" x1="1202.7" x2="1493.3084" y1="280.2" y2="280.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.6084" x="1207.7" y="297.7352">+value(): Class&lt;? extends DomainEvent&gt;</text></g><!--class DomainEventBus--><g class="entity" data-entity="DomainEventBus" data-source-line="23" data-uid="ent0006" id="entity_DomainEventBus"><rect fill="#F5F5F5" height="80.9766" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="387.8398" x="668.08" y="406.42"/><ellipse cx="797.0946" cy="422.42" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M799.5678,428.5631 Q798.9867,428.8619 798.3476,429.0113 Q797.7084,429.1607 797.0029,429.1607 Q794.496,429.1607 793.1762,427.5089 Q791.8564,425.857 791.8564,422.7359 Q791.8564,419.6065 793.1762,417.9547 Q794.496,416.3028 797.0029,416.3028 Q797.7084,416.3028 798.3559,416.4522 Q799.0033,416.6016 799.5678,416.9005 L799.5678,419.6231 Q798.9369,419.0421 798.3434,418.7723 Q797.7499,418.5025 797.1191,418.5025 Q795.7743,418.5025 795.0895,419.5692 Q794.4047,420.6358 794.4047,422.7359 Q794.4047,424.8277 795.0895,425.8944 Q795.7743,426.961 797.1191,426.961 Q797.7499,426.961 798.3434,426.6912 Q798.9369,426.4215 799.5678,425.8404 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.3105" x="817.5946" y="427.711">DomainEventBus</text><line style="stroke:#999999;stroke-width:0.5;" x1="669.08" x2="1054.9198" y1="438.42" y2="438.42"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="375.8398" x="674.08" y="455.9552">-eventPublisherAdapter: DomainEventPublisherAdapter</text><line style="stroke:#999999;stroke-width:0.5;" x1="669.08" x2="1054.9198" y1="462.9083" y2="462.9083"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.8398" x="674.08" y="480.4434">+publish(event: DomainEvent): void</text></g><!--class DomainEventPublisherService--><g class="entity" data-entity="DomainEventPublisherService" data-source-line="28" data-uid="ent0007" id="entity_DomainEventPublisherService"><rect fill="#F5F5F5" height="97.4648" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="332.3867" x="695.81" y="223.71"/><ellipse cx="750.6035" cy="239.71" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M753.0766,245.8531 Q752.4955,246.1519 751.8564,246.3013 Q751.2172,246.4507 750.5117,246.4507 Q748.0048,246.4507 746.685,244.7989 Q745.3652,243.147 745.3652,240.0259 Q745.3652,236.8965 746.685,235.2447 Q748.0048,233.5928 750.5117,233.5928 Q751.2172,233.5928 751.8647,233.7422 Q752.5121,233.8916 753.0766,234.1905 L753.0766,236.9131 Q752.4457,236.3321 751.8522,236.0623 Q751.2587,235.7925 750.6279,235.7925 Q749.2831,235.7925 748.5983,236.8592 Q747.9135,237.9258 747.9135,240.0259 Q747.9135,242.1177 748.5983,243.1844 Q749.2831,244.251 750.6279,244.251 Q751.2587,244.251 751.8522,243.9812 Q752.4457,243.7115 753.0766,243.1304 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="214.2998" x="771.1035" y="245.001">DomainEventPublisherService</text><line style="stroke:#999999;stroke-width:0.5;" x1="696.81" x2="1027.1967" y1="255.71" y2="255.71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231.6563" x="701.81" y="273.2452">-static eventBus: DomainEventBus</text><line style="stroke:#999999;stroke-width:0.5;" x1="696.81" x2="1027.1967" y1="280.1983" y2="280.1983"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.8398" x="701.81" y="297.7334">+publish(event: DomainEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.3867" x="701.81" y="314.2217">+static publishEvent(event: DomainEvent): void</text></g><!--class OrderEventHandler--><g class="entity" data-entity="OrderEventHandler" data-source-line="34" data-uid="ent0008" id="entity_OrderEventHandler"><rect fill="#F5F5F5" height="97.4648" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="423.708" x="783.15" y="41"/><ellipse cx="921.6222" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M924.0953,63.1431 Q923.5143,63.4419 922.8751,63.5913 Q922.2359,63.7407 921.5304,63.7407 Q919.0235,63.7407 917.7037,62.0889 Q916.3839,60.437 916.3839,57.3159 Q916.3839,54.1865 917.7037,52.5347 Q919.0235,50.8828 921.5304,50.8828 Q922.2359,50.8828 922.8834,51.0322 Q923.5309,51.1816 924.0953,51.4805 L924.0953,54.2031 Q923.4645,53.6221 922.8709,53.3523 Q922.2774,53.0825 921.6466,53.0825 Q920.3019,53.0825 919.617,54.1492 Q918.9322,55.2158 918.9322,57.3159 Q918.9322,59.4077 919.617,60.4744 Q920.3019,61.541 921.6466,61.541 Q922.2774,61.541 922.8709,61.2712 Q923.4645,61.0015 924.0953,60.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="138.2637" x="942.1222" y="62.291">OrderEventHandler</text><line style="stroke:#999999;stroke-width:0.5;" x1="784.15" x2="1205.858" y1="73" y2="73"/><line style="stroke:#999999;stroke-width:0.5;" x1="784.15" x2="1205.858" y1="81" y2="81"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369.2295" x="789.15" y="98.5352">+handleOrderCreated(event: OrderCreatedEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="411.708" x="789.15" y="115.0234">+handleOrderItemAdded(event: OrderItemAddedEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="402.124" x="789.15" y="131.5117">+handleOrderSubmitted(event: OrderSubmittedEvent): void</text></g><!--class NotificationEventHandler--><g class="entity" data-entity="NotificationEventHandler" data-source-line="40" data-uid="ent0009" id="entity_NotificationEventHandler"><rect fill="#F5F5F5" height="80.9766" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="558.9502" x="1241.52" y="49.25"/><ellipse cx="1426.3159" cy="65.25" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1428.789,71.3931 Q1428.208,71.6919 1427.5688,71.8413 Q1426.9297,71.9907 1426.2241,71.9907 Q1423.7173,71.9907 1422.3974,70.3389 Q1421.0776,68.687 1421.0776,65.5659 Q1421.0776,62.4365 1422.3974,60.7847 Q1423.7173,59.1328 1426.2241,59.1328 Q1426.9297,59.1328 1427.5771,59.2822 Q1428.2246,59.4316 1428.789,59.7305 L1428.789,62.4531 Q1428.1582,61.8721 1427.5647,61.6023 Q1426.9712,61.3325 1426.3403,61.3325 Q1424.9956,61.3325 1424.3108,62.3992 Q1423.626,63.4658 1423.626,65.5659 Q1423.626,67.6577 1424.3108,68.7244 Q1424.9956,69.791 1426.3403,69.791 Q1426.9712,69.791 1427.5647,69.5212 Q1428.1582,69.2515 1428.789,68.6704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="180.8584" x="1446.8159" y="70.541">NotificationEventHandler</text><line style="stroke:#999999;stroke-width:0.5;" x1="1242.52" x2="1799.4702" y1="81.25" y2="81.25"/><line style="stroke:#999999;stroke-width:0.5;" x1="1242.52" x2="1799.4702" y1="89.25" y2="89.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="449.1279" x="1247.52" y="106.7852">+handleNotificationCreated(event: NotificationCreatedEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="546.9502" x="1247.52" y="123.2734">+handleNotificationStatusChanged(event: NotificationStatusChangedEvent): void</text></g><!--class AggregateLifecycleAware--><g class="entity" data-entity="AggregateLifecycleAware" data-source-line="45" data-uid="ent0010" id="entity_AggregateLifecycleAware"><rect fill="#F5F5F5" height="80.9766" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="245.8984" x="502.05" y="49.25"/><ellipse cx="531.2259" cy="65.25" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M533.699,71.3931 Q533.118,71.6919 532.4788,71.8413 Q531.8396,71.9907 531.1341,71.9907 Q528.6272,71.9907 527.3074,70.3389 Q525.9876,68.687 525.9876,65.5659 Q525.9876,62.4365 527.3074,60.7847 Q528.6272,59.1328 531.1341,59.1328 Q531.8396,59.1328 532.4871,59.2822 Q533.1346,59.4316 533.699,59.7305 L533.699,62.4531 Q533.0682,61.8721 532.4747,61.6023 Q531.8812,61.3325 531.2503,61.3325 Q529.9056,61.3325 529.2208,62.3992 Q528.5359,63.4658 528.5359,65.5659 Q528.5359,67.6577 529.2208,68.7244 Q529.9056,69.791 531.2503,69.791 Q531.8812,69.791 532.4747,69.5212 Q533.0682,69.2515 533.699,68.6704 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="182.3965" x="548.3761" y="70.541">AggregateLifecycleAware</text><line style="stroke:#999999;stroke-width:0.5;" x1="503.05" x2="746.9484" y1="81.25" y2="81.25"/><line style="stroke:#999999;stroke-width:0.5;" x1="503.05" x2="746.9484" y1="89.25" y2="89.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233.8984" x="508.05" y="106.7852">-getLifecycle(): AggregateLifecycle</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.3252" x="508.05" y="123.2734">+apply(event: DomainEvent): void</text></g><!--class OrderCreatedEvent--><g class="entity" data-entity="OrderCreatedEvent" data-source-line="50" data-uid="ent0011" id="entity_OrderCreatedEvent"><rect fill="#F5F5F5" height="97.4648" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="188.9346" x="21.53" y="223.71"/><ellipse cx="45.301" cy="239.71" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M47.7742,245.8531 Q47.1931,246.1519 46.554,246.3013 Q45.9148,246.4507 45.2092,246.4507 Q42.7024,246.4507 41.3826,244.7989 Q40.0628,243.147 40.0628,240.0259 Q40.0628,236.8965 41.3826,235.2447 Q42.7024,233.5928 45.2092,233.5928 Q45.9148,233.5928 46.5623,233.7422 Q47.2097,233.8916 47.7742,234.1905 L47.7742,236.9131 Q47.1433,236.3321 46.5498,236.0623 Q45.9563,235.7925 45.3255,235.7925 Q43.9807,235.7925 43.2959,236.8592 Q42.6111,237.9258 42.6111,240.0259 Q42.6111,242.1177 43.2959,243.1844 Q43.9807,244.251 45.3255,244.251 Q45.9563,244.251 46.5498,243.9812 Q47.1433,243.7115 47.7742,243.1304 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137.4434" x="61.2502" y="245.001">OrderCreatedEvent</text><line style="stroke:#999999;stroke-width:0.5;" x1="22.53" x2="209.4646" y1="255.71" y2="255.71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.4424" x="27.53" y="273.2452">-orderId: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.2051" x="27.53" y="289.7334">-customerId: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.9346" x="27.53" y="306.2217">-totalAmount: BigDecimal</text><line style="stroke:#999999;stroke-width:0.5;" x1="22.53" x2="209.4646" y1="313.1748" y2="313.1748"/></g><!--class OrderItemAddedEvent--><g class="entity" data-entity="OrderItemAddedEvent" data-source-line="56" data-uid="ent0012" id="entity_OrderItemAddedEvent"><rect fill="#F5F5F5" height="113.9531" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="191.9541" x="245.02" y="215.47"/><ellipse cx="260.02" cy="231.47" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M262.4931,237.6131 Q261.9121,237.9119 261.2729,238.0613 Q260.6338,238.2107 259.9282,238.2107 Q257.4214,238.2107 256.1015,236.5589 Q254.7817,234.907 254.7817,231.7859 Q254.7817,228.6565 256.1015,227.0047 Q257.4214,225.3528 259.9282,225.3528 Q260.6338,225.3528 261.2812,225.5022 Q261.9287,225.6516 262.4931,225.9505 L262.4931,228.6731 Q261.8623,228.0921 261.2688,227.8223 Q260.6753,227.5525 260.0444,227.5525 Q258.6997,227.5525 258.0149,228.6192 Q257.3301,229.6858 257.3301,231.7859 Q257.3301,233.8777 258.0149,234.9444 Q258.6997,236.011 260.0444,236.011 Q260.6753,236.011 261.2688,235.7412 Q261.8623,235.4715 262.4931,234.8904 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="159.9541" x="274.02" y="236.761">OrderItemAddedEvent</text><line style="stroke:#999999;stroke-width:0.5;" x1="246.02" x2="435.9741" y1="247.47" y2="247.47"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.4424" x="251.02" y="265.0052">-orderId: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.8213" x="251.02" y="281.4934">-productId: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.6855" x="251.02" y="297.9817">-quantity: int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.6992" x="251.02" y="314.47">-price: BigDecimal</text><line style="stroke:#999999;stroke-width:0.5;" x1="246.02" x2="435.9741" y1="321.4231" y2="321.4231"/></g><!--class OrderSubmittedEvent--><g class="entity" data-entity="OrderSubmittedEvent" data-source-line="63" data-uid="ent0013" id="entity_OrderSubmittedEvent"><rect fill="#F5F5F5" height="113.9531" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="188.9346" x="471.53" y="215.47"/><ellipse cx="487.426" cy="231.47" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M489.8992,237.6131 Q489.3181,237.9119 488.679,238.0613 Q488.0398,238.2107 487.3342,238.2107 Q484.8274,238.2107 483.5076,236.5589 Q482.1878,234.907 482.1878,231.7859 Q482.1878,228.6565 483.5076,227.0047 Q484.8274,225.3528 487.3342,225.3528 Q488.0398,225.3528 488.6873,225.5022 Q489.3347,225.6516 489.8992,225.9505 L489.8992,228.6731 Q489.2683,228.0921 488.6748,227.8223 Q488.0813,227.5525 487.4505,227.5525 Q486.1057,227.5525 485.4209,228.6192 Q484.7361,229.6858 484.7361,231.7859 Q484.7361,233.8777 485.4209,234.9444 Q486.1057,236.011 487.4505,236.011 Q488.0813,236.011 488.6748,235.7412 Q489.2683,235.4715 489.8992,234.8904 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="154.9434" x="501.6252" y="236.761">OrderSubmittedEvent</text><line style="stroke:#999999;stroke-width:0.5;" x1="472.53" x2="659.4646" y1="247.47" y2="247.47"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.4424" x="477.53" y="265.0052">-orderId: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.2051" x="477.53" y="281.4934">-customerId: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.9346" x="477.53" y="297.9817">-totalAmount: BigDecimal</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.9844" x="477.53" y="314.47">-itemCount: int</text><line style="stroke:#999999;stroke-width:0.5;" x1="472.53" x2="659.4646" y1="321.4231" y2="321.4231"/></g><!--class DomainEventPublisherAdapter--><g class="entity" data-entity="DomainEventPublisherAdapter" data-source-line="72" data-uid="ent0015" id="entity_DomainEventPublisherAdapter"><rect fill="#F5F5F5" height="97.4648" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="304.5098" x="709.75" y="603.89"/><ellipse cx="748.1298" cy="619.89" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M750.6029,626.0331 Q750.0219,626.3319 749.3827,626.4813 Q748.7436,626.6307 748.038,626.6307 Q745.5312,626.6307 744.2113,624.9789 Q742.8915,623.327 742.8915,620.2059 Q742.8915,617.0765 744.2113,615.4247 Q745.5312,613.7728 748.038,613.7728 Q748.7436,613.7728 749.391,613.9222 Q750.0385,614.0716 750.6029,614.3705 L750.6029,617.0931 Q749.9721,616.5121 749.3786,616.2423 Q748.7851,615.9725 748.1542,615.9725 Q746.8095,615.9725 746.1247,617.0392 Q745.4398,618.1058 745.4398,620.2059 Q745.4398,622.2977 746.1247,623.3644 Q746.8095,624.431 748.1542,624.431 Q748.7851,624.431 749.3786,624.1612 Q749.9721,623.8915 750.6029,623.3104 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="220.5547" x="767.3253" y="625.181">DomainEventPublisherAdapter</text><line style="stroke:#999999;stroke-width:0.5;" x1="710.75" x2="1013.2598" y1="635.89" y2="635.89"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292.5098" x="715.75" y="653.4252">-eventPublisher: ApplicationEventPublisher</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.5508" x="715.75" y="669.9134">+class DomainEventWrapper</text><line style="stroke:#999999;stroke-width:0.5;" x1="710.75" x2="1013.2598" y1="676.8666" y2="676.8666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.8398" x="715.75" y="694.4017">+publish(event: DomainEvent): void</text></g><!--class DomainEventSubscriptionManager--><g class="entity" data-entity="DomainEventSubscriptionManager" data-source-line="78" data-uid="ent0016" id="entity_DomainEventSubscriptionManager"><rect fill="#F5F5F5" height="130.4414" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="596.5889" x="1049.71" y="587.4"/><ellipse cx="1219.7847" cy="603.4" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1222.2579,609.5431 Q1221.6768,609.8419 1221.0376,609.9913 Q1220.3985,610.1407 1219.6929,610.1407 Q1217.1861,610.1407 1215.8663,608.4889 Q1214.5464,606.837 1214.5464,603.7159 Q1214.5464,600.5865 1215.8663,598.9347 Q1217.1861,597.2828 1219.6929,597.2828 Q1220.3985,597.2828 1221.0459,597.4322 Q1221.6934,597.5816 1222.2579,597.8805 L1222.2579,600.6031 Q1221.627,600.0221 1221.0335,599.7523 Q1220.44,599.4825 1219.8091,599.4825 Q1218.4644,599.4825 1217.7796,600.5492 Q1217.0948,601.6158 1217.0948,603.7159 Q1217.0948,605.8077 1217.7796,606.8744 Q1218.4644,607.941 1219.8091,607.941 Q1220.44,607.941 1221.0335,607.6712 Q1221.627,607.4015 1222.2579,606.8204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="247.9395" x="1240.2847" y="608.691">DomainEventSubscriptionManager</text><line style="stroke:#999999;stroke-width:0.5;" x1="1050.71" x2="1645.2989" y1="619.4" y2="619.4"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="386.8867" x="1055.71" y="636.9352">-subscriptions: Map&lt;Class&lt;?&gt;, Map&lt;Object, Method&gt;&gt;</text><line style="stroke:#999999;stroke-width:0.5;" x1="1050.71" x2="1645.2989" y1="643.8883" y2="643.8883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="487.8262" x="1055.71" y="661.4234">+postProcessAfterInitialization(bean: Object, beanName: String): Object</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="390.4619" x="1055.71" y="677.9117">+onApplicationEvent(springEvent: ApplicationEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="584.5889" x="1055.71" y="694.4">-registerSubscriber(bean: Object, method: Method, annotation: EventSubscriber): void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="558.1953" x="1055.71" y="710.8883">-notifySubscribers(subscribers: Map&lt;Object, Method&gt;, event: DomainEvent): void</text></g><!--class Spring ApplicationEvent--><g class="entity" data-entity="Spring ApplicationEvent" data-source-line="100" data-uid="ent0026" id="entity_Spring ApplicationEvent"><rect fill="#F5F5F5" height="48" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="205.0313" x="1245.48" y="796.84"/><ellipse cx="1260.48" cy="812.84" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1262.9531,818.9831 Q1262.3721,819.2819 1261.7329,819.4313 Q1261.0938,819.5807 1260.3882,819.5807 Q1257.8814,819.5807 1256.5615,817.9289 Q1255.2417,816.277 1255.2417,813.1559 Q1255.2417,810.0265 1256.5615,808.3747 Q1257.8814,806.7228 1260.3882,806.7228 Q1261.0938,806.7228 1261.7412,806.8722 Q1262.3887,807.0216 1262.9531,807.3205 L1262.9531,810.0431 Q1262.3223,809.4621 1261.7288,809.1923 Q1261.1353,808.9225 1260.5044,808.9225 Q1259.1597,808.9225 1258.4749,809.9892 Q1257.7901,811.0558 1257.7901,813.1559 Q1257.7901,815.2477 1258.4749,816.3144 Q1259.1597,817.381 1260.5044,817.381 Q1261.1353,817.381 1261.7288,817.1112 Q1262.3223,816.8415 1262.9531,816.2604 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="173.0313" x="1274.48" y="818.131">Spring ApplicationEvent</text><line style="stroke:#999999;stroke-width:0.5;" x1="1246.48" x2="1449.5113" y1="828.84" y2="828.84"/><line style="stroke:#999999;stroke-width:0.5;" x1="1246.48" x2="1449.5113" y1="836.84" y2="836.84"/></g><!--class Spring ApplicationEventPublisher--><g class="entity" data-entity="Spring ApplicationEventPublisher" data-source-line="102" data-uid="ent0028" id="entity_Spring ApplicationEventPublisher"><rect fill="#F5F5F5" height="48" rx="2.5" ry="2.5" style="stroke:#999999;stroke-width:0.5;" width="272.8711" x="725.56" y="796.84"/><ellipse cx="740.56" cy="812.84" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M743.0331,818.9831 Q742.4521,819.2819 741.8129,819.4313 Q741.1738,819.5807 740.4682,819.5807 Q737.9614,819.5807 736.6415,817.9289 Q735.3217,816.277 735.3217,813.1559 Q735.3217,810.0265 736.6415,808.3747 Q737.9614,806.7228 740.4682,806.7228 Q741.1738,806.7228 741.8212,806.8722 Q742.4687,807.0216 743.0331,807.3205 L743.0331,810.0431 Q742.4023,809.4621 741.8088,809.1923 Q741.2153,808.9225 740.5844,808.9225 Q739.2397,808.9225 738.5549,809.9892 Q737.8701,811.0558 737.8701,813.1559 Q737.8701,815.2477 738.5549,816.3144 Q739.2397,817.381 740.5844,817.381 Q741.2153,817.381 741.8088,817.1112 Q742.4023,816.8415 743.0331,816.2604 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="240.8711" x="754.56" y="818.131">Spring ApplicationEventPublisher</text><line style="stroke:#999999;stroke-width:0.5;" x1="726.56" x2="997.4311" y1="828.84" y2="828.84"/><line style="stroke:#999999;stroke-width:0.5;" x1="726.56" x2="997.4311" y1="836.84" y2="836.84"/></g><!--reverse link DomainEvent to OrderCreatedEvent--><g class="link" data-entity-1="DomainEvent" data-entity-2="OrderCreatedEvent" data-source-line="88" data-uid="lnk17" id="link_DomainEvent_OrderCreatedEvent"><path codeLine="88" d="M135.104,148.1778 C130.854,175.6078 127.93,194.47 123.42,223.53" fill="none" id="DomainEvent-backto-OrderCreatedEvent" style="stroke:#666666;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="137.86,130.39,129.1747,147.2591,141.0332,149.0964,137.86,130.39" style="stroke:#666666;stroke-width:1;"/></g><!--reverse link DomainEvent to OrderItemAddedEvent--><g class="link" data-entity-1="DomainEvent" data-entity-2="OrderItemAddedEvent" data-source-line="89" data-uid="lnk18" id="link_DomainEvent_OrderItemAddedEvent"><path codeLine="89" d="M200.4949,142.5573 C227.5649,167.3873 249.61,187.61 279.56,215.08" fill="none" id="DomainEvent-backto-OrderItemAddedEvent" style="stroke:#666666;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="187.23,130.39,196.4392,146.9789,204.5507,138.1356,187.23,130.39" style="stroke:#666666;stroke-width:1;"/></g><!--reverse link DomainEvent to OrderSubmittedEvent--><g class="link" data-entity-1="DomainEvent" data-entity-2="OrderSubmittedEvent" data-source-line="90" data-uid="lnk19" id="link_DomainEvent_OrderSubmittedEvent"><path codeLine="90" d="M266.0548,137.1872 C326.4748,160.6972 386.69,185.16 454,215.47 C459.65,218.01 465.43,220.68 471.24,223.42" fill="none" id="DomainEvent-backto-OrderSubmittedEvent" style="stroke:#666666;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="249.28,130.66,263.8791,142.7789,268.2306,131.5956,249.28,130.66" style="stroke:#666666;stroke-width:1;"/></g><!--link DomainEventBus to DomainEventPublisherAdapter--><g class="link" data-entity-1="DomainEventBus" data-entity-2="DomainEventPublisherAdapter" data-source-line="92" data-uid="lnk20" id="link_DomainEventBus_DomainEventPublisherAdapter"><path codeLine="92" d="M862,487.67 C862,520.9 862,562.39 862,597.71" fill="none" id="DomainEventBus-to-DomainEventPublisherAdapter" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="862,603.71,866,594.71,862,598.71,858,594.71,862,603.71" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="863" y="532.9684">uses</text></g><!--link DomainEventPublisherService to DomainEventBus--><g class="link" data-entity-1="DomainEventPublisherService" data-entity-2="DomainEventBus" data-source-line="93" data-uid="lnk21" id="link_DomainEventPublisherService_DomainEventBus"><path codeLine="93" d="M862,321.49 C862,348.1 862,374.79 862,399.99" fill="none" id="DomainEventPublisherService-to-DomainEventBus" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="862,405.99,866,396.99,862,400.99,858,396.99,862,405.99" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="863" y="372.9884">uses</text></g><!--link AggregateLifecycleAware to DomainEventPublisherService--><g class="link" data-entity-1="AggregateLifecycleAware" data-entity-2="DomainEventPublisherService" data-source-line="94" data-uid="lnk22" id="link_AggregateLifecycleAware_DomainEventPublisherService"><path codeLine="94" d="M677.3,130.62 C713.16,157.95 756.1393,190.7213 794.1093,219.6813" fill="none" id="AggregateLifecycleAware-to-DomainEventPublisherService" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="798.88,223.32,794.1497,214.6815,794.9044,220.2878,789.2981,221.0425,798.88,223.32" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.0537" x="744.5" y="182.0384">fallback to</text></g><!--link OrderEventHandler to EventSubscriber--><g class="link" data-entity-1="OrderEventHandler" data-entity-2="EventSubscriber" data-source-line="96" data-uid="lnk23" id="link_OrderEventHandler_EventSubscriber"><path codeLine="96" d="M1089.13,138.93 C1151.53,170.87 1226.2892,209.1358 1280.7492,237.0158" fill="none" id="OrderEventHandler-to-EventSubscriber" style="stroke:#666666;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#666666" points="1286.09,239.75,1279.9015,232.0882,1281.6393,237.4715,1276.256,239.2093,1286.09,239.75" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4468" x="1172.5" y="182.0384">annotated with</text></g><!--link NotificationEventHandler to EventSubscriber--><g class="link" data-entity-1="NotificationEventHandler" data-entity-2="EventSubscriber" data-source-line="97" data-uid="lnk24" id="link_NotificationEventHandler_EventSubscriber"><path codeLine="97" d="M1483.03,130.39 C1451.5,163.33 1411.399,205.2158 1382.269,235.6458" fill="none" id="NotificationEventHandler-to-EventSubscriber" style="stroke:#666666;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#666666" points="1378.12,239.98,1387.233,236.2447,1381.5775,236.3682,1381.4541,230.7126,1378.12,239.98" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4468" x="1445.86" y="182.0384">annotated with</text></g><!--link DomainEventSubscriptionManager to EventSubscriber--><g class="link" data-entity-1="DomainEventSubscriptionManager" data-entity-2="EventSubscriber" data-source-line="99" data-uid="lnk25" id="link_DomainEventSubscriptionManager_EventSubscriber"><path codeLine="99" d="M1348,587.09 C1348,505.12 1348,372.9 1348,311.04" fill="none" id="DomainEventSubscriptionManager-to-EventSubscriber" style="stroke:#666666;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#666666" points="1348,305.04,1344,314.04,1348,310.04,1352,314.04,1348,305.04" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.5117" x="1349" y="451.9784">processes</text></g><!--link DomainEventSubscriptionManager to Spring ApplicationEvent--><g class="link" data-entity-1="DomainEventSubscriptionManager" data-entity-2="Spring ApplicationEvent" data-source-line="100" data-uid="lnk27" id="link_DomainEventSubscriptionManager_Spring ApplicationEvent"><path codeLine="100" d="M1348,717.88 C1348,745.47 1348,769.99 1348,790.38" fill="none" id="DomainEventSubscriptionManager-to-Spring ApplicationEvent" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="1348,796.38,1352,787.38,1348,791.38,1344,787.38,1348,796.38" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.9033" x="1349" y="763.4084">listens to</text></g><!--link DomainEventPublisherAdapter to Spring ApplicationEventPublisher--><g class="link" data-entity-1="DomainEventPublisherAdapter" data-entity-2="Spring ApplicationEventPublisher" data-source-line="102" data-uid="lnk29" id="link_DomainEventPublisherAdapter_Spring ApplicationEventPublisher"><path codeLine="102" d="M862,701.7 C862,732.95 862,766.3 862,790.77" fill="none" id="DomainEventPublisherAdapter-to-Spring ApplicationEventPublisher" style="stroke:#666666;stroke-width:1;"/><polygon fill="#666666" points="862,796.77,866,787.77,862,791.77,858,787.77,862,796.77" style="stroke:#666666;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="863" y="763.4084">uses</text></g><!--SRC=[hLNRRjCm6BxFKrZbWawi5JSW4LL5NJT4fPsaJkBQTVwcPeaTRAUZWrtoHBlaUH2lmH_dK2TfiaqYLQN4t-V_VD2tN2HKqPYmY6ezCqRnLMfWmQHOydiWRprTftoImYpDBWAoab7GH4yekmsLJ4Kmbv5KvDNwNVPhqQGAG1MK3_PnA5GfULU0x-tZW0bge26q585zFA_0oU1KnfGBSavte0RaXqS85mRKcZ8WENQs1M4iGiYR48pzNWJ38vyiCGuYh90hnbAb8BWI6NWk6OrEgO4R7WDo7l1V4sy5VQOYY41DRgQbYeqz6TuGo70Kj9KysD-dGaX33PSY5x1CLvfXEa2L0hOqIY6pO9u5SVAHm7S38j2kFzEzG1jg5pj9TI5gP4suJbSHrnjGiu0cQBplafjWRaAIdmxj_Hg_vKzBVILn2MhBCKw5BJhpckLHGHFzXidFLuoqGbR1jlZpRRtAgj9DNZrp5fuhmCm7fL3th6sDSszX89u5GUDcTTfx5oiXvgQfjJhjS-bI6hxcp9PLjsSkg-7W0QZBLfUwn3oaUev0U5XMZT3dmImC5OIezvolWUrO1BCxgghYmUwiWAmrslJSH9eaqUw5fU3wM-gpasiHr4R4YANQoBXzRh2XercCOmgLdl3m51YFQNHGMRqKUjKbIWOfCytZRoaLXfkTdusYaebzzgJgUYNzPqyHvEZQF8Toonwy1sTIByHQKMqKkfHYOfs9tJr2Yg5qU9nX5M2stQgle1SDavRwBmhBo0hfcd75q4uopHTKe7-LZTg1SCXTq6HIpF7fiVswMdq5Pl0Tp4O6qsbXgzJcMaa6k9xNwF92SCDfnE-jTyCLK843eRYQVLtI6Cha79LGBakAPc26EibuPtaWcgWRZH6s5TV6LaknbnhAOsktNzX_x2mqlxdHQe95DXPsUr0FzVxTFnIQOzBVo5XThycVNuz_7tzxxgwV_1oFswtTGQatP0UftZgUrzYsez6qhtnzachGNj-ER4Ym-z5UwfgBNIeBWJvPqoXQOUyH8psllVB6usapMtwPIWZ87JSRhtEhFEUozqIx79IHv1rG3zQXsvdxWwKjwbOv3tmIPIKijFMzRwxqYQd8Wo8L_m00]--></g></svg>