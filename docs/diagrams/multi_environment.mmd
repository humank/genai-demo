graph TB
    subgraph DEV ["Development Environment"]
        DEV_APP[Spring Boot App<br/>Profile: dev]
        H2_DB[(H2 Database)]
        MEMORY_EVENTS[In-Memory Events]
    end
    
    subgraph PROD ["Production Environment"]
        PROD_APP[Spring Boot App<br/>Profile: production]
        RDS_DB[(RDS PostgreSQL)]
        MSK_EVENTS[MSK Events]
    end
    
    subgraph CONFIG ["Configuration"]
        BASE_CONFIG[application.yml]
        DEV_CONFIG[application-dev.yml]
        PROD_CONFIG[application-production.yml]
    end
    
    BASE_CONFIG --> DEV_CONFIG
    BASE_CONFIG --> PROD_CONFIG
    
    DEV_CONFIG --> DEV_APP
    PROD_CONFIG --> PROD_APP
    
    DEV_APP --> H2_DB
    DEV_APP --> MEMORY_EVENTS
    
    PROD_APP --> RDS_DB
    PROD_APP --> MSK_EVENTS
    
    classDef dev fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef prod fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef config fill:#fff3e0,stroke:#e65100,stroke-width:2px
    
    class DEV_APP,H2_DB,MEMORY_EVENTS dev
    class PROD_APP,RDS_DB,MSK_EVENTS prod
    class BASE_CONFIG,DEV_CONFIG,PROD_CONFIG config