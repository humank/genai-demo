@startuml Bounded Contexts Overview
!theme plain
skinparam dpi 300
skinparam backgroundColor white
skinparam rectangle {
    BackgroundColor lightblue
    BorderColor darkblue
    FontSize 12
}

title Bounded Contexts Overview\nGenerated: 2025-09-22\n\n

' 核心業務上下文 (第一行)
rectangle "Customer Context" as Customer {
  [<b>Customer</b>\n客戶聚合根\n消費者功能管理] as Customer_1
}

rectangle "Order Context" as Order {
  [<b>Order</b>\n訂單聚合根\n訂單業務規則] as Order_1
  [<b>OrderWorkflow</b>\n訂單工作流\n生命週期管理] as OrderWorkflow
}

rectangle "Product Context" as Product {
  [<b>Product</b>\n產品聚合根\n商品信息管理] as Product_1
}

rectangle "Payment Context" as Payment {
  [<b>Payment</b>\n支付聚合根\n支付流程管理] as Payment_1
  [<b>PaymentMethod</b>\n支付方式\n支付配置管理] as PaymentMethod
}

' 業務支援上下文 (第二行)
rectangle "ShoppingCart Context" as ShoppingCart {
  [<b>ShoppingCart</b>\n購物車聚合根\n購物車狀態管理] as ShoppingCart_1
}

rectangle "Inventory Context" as Inventory {
  [<b>Inventory</b>\n庫存聚合根\n庫存預留管理] as Inventory_1
}

rectangle "Pricing Context" as Pricing {
  [<b>PricingRule</b>\n定價規則聚合根\n定價折扣管理] as PricingRule
}

rectangle "Promotion Context" as Promotion {
  [<b>Promotion</b>\n促銷聚合根\n促銷活動管理] as Promotion_1
  [<b>Voucher</b>\n優惠券聚合根\n優惠券生命週期] as Voucher
}

' 平台服務上下文 (第三行)
rectangle "Seller Context" as Seller {
  [<b>Seller</b>\n賣家聚合根\n賣家資訊管理] as Seller_1
}

rectangle "Delivery Context" as Delivery {
  [<b>Delivery</b>\n配送聚合根\n配送流程管理] as Delivery_1
}

rectangle "Review Context" as Review {
  [<b>ProductReview</b>\n商品評價聚合根\n評價評分管理] as ProductReview
}

rectangle "Notification Context" as Notification {
  [<b>Notification</b>\n通知聚合根\n通知發送管理] as Notification_1
  [<b>NotificationTemplate</b>\n通知模板\n模板格式管理] as NotificationTemplate
}

' 監控分析上下文 (第四行)
rectangle "Observability Context" as Observability {
  [<b>AnalyticsSession</b>\n分析會話聚合根] as AnalyticsSession
  [<b>ObservabilitySession</b>\n可觀測性會話聚合根] as ObservabilitySession
}

' 佈局安排 - 垂直分層
Customer -[hidden]down- ShoppingCart
Order -[hidden]down- Inventory  
Product -[hidden]down- Pricing
Payment -[hidden]down- Promotion

ShoppingCart -[hidden]down- Seller
Inventory -[hidden]down- Delivery
Pricing -[hidden]down- Review
Promotion -[hidden]down- Notification

Seller -[hidden]down- Observability
Delivery -[hidden]down- Observability
Review -[hidden]down- Observability
Notification -[hidden]down- Observability

' 業務關係
Customer --> Order : 下單
Customer --> ShoppingCart : 購物車
Order --> Product : 商品
Order --> Payment : 支付
Order --> Inventory : 庫存
Product --> Pricing : 定價
Product --> Promotion : 促銷
Seller --> Product : 商品管理
Order --> Delivery : 配送
Product --> Review : 評價
Customer --> Notification : 通知

@enduml
