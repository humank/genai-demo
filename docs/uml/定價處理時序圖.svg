<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2654px" preserveAspectRatio="none" style="width:2535px;height:2654px;background:#FFFFFF;" version="1.1" viewBox="0 0 2535 2654" width="2535px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="516.6582" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="156.1094"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="475" y="193.4199"/><rect fill="#FFFFFF" height="637.166" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="762.6992"/><rect fill="#FFFFFF" height="447.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="1464.4863"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="475" y="1501.7969"/><rect fill="#FFFFFF" height="562.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="2001.4551"/><rect fill="#FFFFFF" height="373.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="270.041"/><rect fill="#FFFFFF" height="98.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="525.5254"/><rect fill="#FFFFFF" height="607.8555" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="792.0098"/><rect fill="#FFFFFF" height="98.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="1146.7363"/><rect fill="#FFFFFF" height="303.7949" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="1578.418"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="1732.9707"/><rect fill="#FFFFFF" height="532.9238" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="2030.7656"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="2126.6973"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="299.3516"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="559.8359"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="1181.0469"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="1607.7285"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="1791.5918"/><rect fill="#FFFFFF" height="54.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1748" y="357.9727"/><rect fill="#FFFFFF" height="129.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1748" y="904.252"/><rect fill="#FFFFFF" height="171.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1748" y="2227.6289"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="933.5625"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="992.1836"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="2256.9395"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="2315.5605"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="458.9043"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="821.3203"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="1080.1152"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="1666.3496"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="2060.0762"/><rect fill="none" height="527.2344" style="stroke:#000000;stroke-width:1.5;" width="2345.5" x="10" y="865.6309"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="617" x="771.5" y="1752.9707"/><rect fill="none" height="367.6816" style="stroke:#000000;stroke-width:1.5;" width="2171.5" x="10" y="2189.0078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="81.4883" y2="2573.6895"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="474.5" x2="474.5" y1="81.4883" y2="2573.6895"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="874.5" x2="874.5" y1="81.4883" y2="2573.6895"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1287.5" x2="1287.5" y1="81.4883" y2="2573.6895"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1752.5" x2="1752.5" y1="81.4883" y2="2573.6895"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2106.5" x2="2106.5" y1="81.4883" y2="2573.6895"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2263.5" x2="2263.5" y1="81.4883" y2="2573.6895"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2439.5" x2="2439.5" y1="81.4883" y2="2573.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="20" y="78.5352">Client</text><ellipse cx="43" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43,21.5 L43,48.5 M30,29.5 L56,29.5 M43,48.5 L30,63.5 M43,48.5 L56,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="20" y="2586.2246">Client</text><ellipse cx="43" cy="2597.6777" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43,2605.6777 L43,2632.6777 M30,2613.6777 L56,2613.6777 M43,2632.6777 L30,2647.6777 M43,2632.6777 L56,2647.6777 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="409.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="416.5" y="70.5352">PricingController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="409.5" y="2572.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="416.5" y="2593.2246">PricingController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="781.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="788.5" y="70.5352">PricingApplicationService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="781.5" y="2572.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="788.5" y="2593.2246">PricingApplicationService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="1197.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="1204.5" y="70.5352">ProductCategoryMapper</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="1197.5" y="2572.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="1204.5" y="2593.2246">ProductCategoryMapper</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1707.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1714.5" y="70.5352">PricingRule</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1707.5" y="2572.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1714.5" y="2593.2246">PricingRule</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="2042.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="2049.5" y="70.5352">CommissionRate</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="2042.5" y="2572.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="2049.5" y="2593.2246">CommissionRate</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="2181.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="2188.5" y="70.5352">PricingRuleRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="2181.5" y="2572.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="2188.5" y="2593.2246">PricingRuleRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="2355.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="2362.5" y="70.5352">DomainEventPublisher</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="2355.5" y="2572.6895"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="2362.5" y="2593.2246">DomainEventPublisher</text><rect fill="#FFFFFF" height="516.6582" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="156.1094"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="475" y="193.4199"/><rect fill="#FFFFFF" height="637.166" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="762.6992"/><rect fill="#FFFFFF" height="447.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="1464.4863"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="475" y="1501.7969"/><rect fill="#FFFFFF" height="562.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="470" y="2001.4551"/><rect fill="#FFFFFF" height="373.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="270.041"/><rect fill="#FFFFFF" height="98.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="525.5254"/><rect fill="#FFFFFF" height="607.8555" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="792.0098"/><rect fill="#FFFFFF" height="98.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="1146.7363"/><rect fill="#FFFFFF" height="303.7949" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="1578.418"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="1732.9707"/><rect fill="#FFFFFF" height="532.9238" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="2030.7656"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="875" y="2126.6973"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="299.3516"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="559.8359"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="1181.0469"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="1607.7285"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1283" y="1791.5918"/><rect fill="#FFFFFF" height="54.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1748" y="357.9727"/><rect fill="#FFFFFF" height="129.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1748" y="904.252"/><rect fill="#FFFFFF" height="171.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1748" y="2227.6289"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="933.5625"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="992.1836"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="2256.9395"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2102" y="2315.5605"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="458.9043"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="821.3203"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="1080.1152"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="1666.3496"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="2258.5" y="2060.0762"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2528.5" x="0" y="112.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="112.1436" y2="112.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="115.1436" y2="115.1436"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="96" x="1216.25" y="101.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78" x="1222.25" y="118.0566">&#21109;&#24314;&#23450;&#20729;&#35215;&#21063;</text><polygon fill="#181818" points="458,152.1094,468,156.1094,458,160.1094,462,156.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43" x2="464" y1="156.1094" y2="156.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="50" y="151.3672">createPricingRule(CreatePricingRuleRequest)</text><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="527" y1="180.4199" y2="180.4199"/><line style="stroke:#181818;stroke-width:1.0;" x1="527" x2="527" y1="180.4199" y2="193.4199"/><line style="stroke:#181818;stroke-width:1.0;" x1="486" x2="527" y1="193.4199" y2="193.4199"/><polygon fill="#181818" points="496,189.4199,486,193.4199,496,197.4199,492,193.4199" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="492" y="175.6777">convertToAppProductCategory(productCategoryDto)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="527" y1="232.7305" y2="232.7305"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="527" x2="527" y1="232.7305" y2="245.7305"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480" x2="527" y1="245.7305" y2="245.7305"/><polygon fill="#181818" points="490,241.7305,480,245.7305,490,249.7305,486,245.7305" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="492" y="227.9883">AppProductCategoryDto</text><polygon fill="#181818" points="858,266.041,868,270.041,858,274.041,862,270.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="864" y1="270.041" y2="270.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="487" y="265.2988">createPricingRule(CreatePricingRuleCommand)</text><polygon fill="#181818" points="1271,295.3516,1281,299.3516,1271,303.3516,1275,299.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="1277" y1="299.3516" y2="299.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="887" y="294.6094">toDomain(productCategoryDto)</text><polygon fill="#181818" points="891,307.3516,881,311.3516,891,315.3516,887,311.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="1287" y1="311.3516" y2="311.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="897" y="324.9199">ProductCategory</text><polygon fill="#181818" points="1736,353.9727,1746,357.9727,1736,361.9727,1740,357.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="1742" y1="357.9727" y2="357.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="849" x="887" y="353.2305">new PricingRule(priceId, productId, promotionId, finalPrice, discountPercentage, discountAmount, effectiveFrom, effectiveTo, category)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1758" x2="1800" y1="387.2832" y2="387.2832"/><line style="stroke:#181818;stroke-width:1.0;" x1="1800" x2="1800" y1="387.2832" y2="400.2832"/><line style="stroke:#181818;stroke-width:1.0;" x1="1759" x2="1800" y1="400.2832" y2="400.2832"/><polygon fill="#181818" points="1769,396.2832,1759,400.2832,1769,404.2832,1765,400.2832" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1765" y="382.541">addDefaultCommissionRate()</text><polygon fill="#181818" points="891,408.2832,881,412.2832,891,416.2832,887,412.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="1752" y1="412.2832" y2="412.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="897" y="425.8516">PricingRule</text><polygon fill="#181818" points="2246.5,454.9043,2256.5,458.9043,2246.5,462.9043,2250.5,458.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="2252.5" y1="458.9043" y2="458.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="887" y="454.1621">save(pricingRule)</text><polygon fill="#181818" points="891,466.9043,881,470.9043,891,474.9043,887,470.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="2262.5" y1="470.9043" y2="470.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="897" y="484.4727">PricingRule</text><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="927" y1="512.5254" y2="512.5254"/><line style="stroke:#181818;stroke-width:1.0;" x1="927" x2="927" y1="512.5254" y2="525.5254"/><line style="stroke:#181818;stroke-width:1.0;" x1="886" x2="927" y1="525.5254" y2="525.5254"/><polygon fill="#181818" points="896,521.5254,886,525.5254,896,529.5254,892,525.5254" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="892" y="507.7832">mapToDto(pricingRule)</text><polygon fill="#181818" points="1271,555.8359,1281,559.8359,1271,563.8359,1275,559.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885" x2="1277" y1="559.8359" y2="559.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="892" y="555.0938">toDto(pricingRule.getProductCategory())</text><polygon fill="#181818" points="896,567.8359,886,571.8359,896,575.8359,892,571.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="890" x2="1287" y1="571.8359" y2="571.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="902" y="585.4043">ProductCategoryDto</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="927" y1="623.457" y2="623.457"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="927" x2="927" y1="623.457" y2="636.457"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="880" x2="927" y1="636.457" y2="636.457"/><polygon fill="#181818" points="890,632.457,880,636.457,890,640.457,886,636.457" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="892" y="618.7148">PricingRuleDto</text><polygon fill="#181818" points="491,639.457,481,643.457,491,647.457,487,643.457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="874" y1="643.457" y2="643.457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="497" y="657.0254">PricingRuleDto</text><polygon fill="#181818" points="54,668.7676,44,672.7676,54,676.7676,50,672.7676" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="474" y1="672.7676" y2="672.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="60" y="686.3359">PricingRuleResponse</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2528.5" x="0" y="718.7334"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="718.7334" y2="718.7334"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="721.7334" y2="721.7334"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="96" x="1216.25" y="708.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78" x="1222.25" y="724.6465">&#26356;&#26032;&#20323;&#37329;&#36027;&#29575;</text><polygon fill="#181818" points="458,758.6992,468,762.6992,458,766.6992,462,762.6992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43" x2="464" y1="762.6992" y2="762.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408" x="50" y="757.957">updateCommissionRate(priceId, UpdateCommissionRateRequest)</text><polygon fill="#181818" points="858,788.0098,868,792.0098,858,796.0098,862,792.0098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="864" y1="792.0098" y2="792.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371" x="487" y="787.2676">updateCommissionRate(UpdateCommissionRateCommand)</text><polygon fill="#181818" points="2246.5,817.3203,2256.5,821.3203,2246.5,825.3203,2250.5,821.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="2252.5" y1="821.3203" y2="821.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="887" y="816.5781">findById(priceId)</text><polygon fill="#181818" points="891,829.3203,881,833.3203,891,837.3203,887,833.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="2262.5" y1="833.3203" y2="833.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="897" y="846.8887">Optional&lt;PricingRule&gt;</text><path d="M10,865.6309 L72,865.6309 L72,872.9414 L62,882.9414 L10,882.9414 L10,865.6309 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="527.2344" style="stroke:#000000;stroke-width:1.5;" width="2345.5" x="10" y="865.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="879.1992">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74" x="87" y="878.2656">[&#23450;&#20729;&#35215;&#21063;&#23384;&#22312;]</text><polygon fill="#181818" points="1736,900.252,1746,904.252,1736,908.252,1740,904.252" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="1742" y1="904.252" y2="904.252"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="887" y="899.5098">updateCommissionRate(normalRate, eventRate)</text><polygon fill="#181818" points="2090,929.5625,2100,933.5625,2090,937.5625,2094,933.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1758" x2="2096" y1="933.5625" y2="933.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1765" y="928.8203">setNormalRate(normalRate)</text><polygon fill="#181818" points="1769,941.5625,1759,945.5625,1769,949.5625,1765,945.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1763" x2="2106" y1="945.5625" y2="945.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1775" y="959.1309">void</text><polygon fill="#181818" points="2090,988.1836,2100,992.1836,2090,996.1836,2094,992.1836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1758" x2="2096" y1="992.1836" y2="992.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1765" y="987.4414">setEventRate(eventRate)</text><polygon fill="#181818" points="1769,1000.1836,1759,1004.1836,1769,1008.1836,1765,1004.1836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1763" x2="2106" y1="1004.1836" y2="1004.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="1775" y="1017.752">void</text><polygon fill="#181818" points="891,1029.4941,881,1033.4941,891,1037.4941,887,1033.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="1752" y1="1033.4941" y2="1033.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="897" y="1047.0625">void</text><polygon fill="#181818" points="2246.5,1076.1152,2256.5,1080.1152,2246.5,1084.1152,2250.5,1080.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="2252.5" y1="1080.1152" y2="1080.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="887" y="1075.373">save(pricingRule)</text><polygon fill="#181818" points="891,1088.1152,881,1092.1152,891,1096.1152,887,1092.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="2262.5" y1="1092.1152" y2="1092.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="897" y="1105.6836">PricingRule</text><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="927" y1="1133.7363" y2="1133.7363"/><line style="stroke:#181818;stroke-width:1.0;" x1="927" x2="927" y1="1133.7363" y2="1146.7363"/><line style="stroke:#181818;stroke-width:1.0;" x1="886" x2="927" y1="1146.7363" y2="1146.7363"/><polygon fill="#181818" points="896,1142.7363,886,1146.7363,896,1150.7363,892,1146.7363" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="892" y="1128.9941">mapToDto(pricingRule)</text><polygon fill="#181818" points="1271,1177.0469,1281,1181.0469,1271,1185.0469,1275,1181.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885" x2="1277" y1="1181.0469" y2="1181.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="892" y="1176.3047">toDto(pricingRule.getProductCategory())</text><polygon fill="#181818" points="896,1189.0469,886,1193.0469,896,1197.0469,892,1193.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="890" x2="1287" y1="1193.0469" y2="1193.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="902" y="1206.6152">ProductCategoryDto</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="927" y1="1244.668" y2="1244.668"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="927" x2="927" y1="1244.668" y2="1257.668"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="880" x2="927" y1="1257.668" y2="1257.668"/><polygon fill="#181818" points="890,1253.668,880,1257.668,890,1261.668,886,1257.668" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="892" y="1239.9258">PricingRuleDto</text><polygon fill="#181818" points="491,1260.668,481,1264.668,491,1268.668,487,1264.668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="869" y1="1264.668" y2="1264.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="497" y="1278.2363">PricingRuleDto</text><polygon fill="#181818" points="54,1289.9785,44,1293.9785,54,1297.9785,50,1293.9785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="469" y1="1293.9785" y2="1293.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="60" y="1307.5469">PricingRuleResponse</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="2355.5" y1="1320.2891" y2="1320.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85" x="15" y="1330.9238">[&#23450;&#20729;&#35215;&#21063;&#19981;&#23384;&#22312;]</text><polygon fill="#181818" points="491,1334.2441,481,1338.2441,491,1342.2441,487,1338.2441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="869" y1="1338.2441" y2="1338.2441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="497" y="1351.8125">throw IllegalArgumentException</text><polygon fill="#181818" points="54,1363.5547,44,1367.5547,54,1371.5547,50,1367.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="469" y1="1367.5547" y2="1367.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="60" y="1381.123">ErrorResponse(404, "&#23450;&#20729;&#35215;&#21063;&#19981;&#23384;&#22312;")</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2528.5" x="0" y="1420.5205"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="1420.5205" y2="1420.5205"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="1423.5205" y2="1423.5205"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="161" x="1183.75" y="1409.8652"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143" x="1189.75" y="1426.4336">&#29554;&#21462;&#29986;&#21697;&#39006;&#21029;&#30340;&#23450;&#20729;&#35215;&#21063;</text><polygon fill="#181818" points="458,1460.4863,468,1464.4863,458,1468.4863,462,1464.4863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43" x2="464" y1="1464.4863" y2="1464.4863"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="50" y="1459.7441">getPricingRulesByCategory(category)</text><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="527" y1="1488.7969" y2="1488.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="527" x2="527" y1="1488.7969" y2="1501.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="486" x2="527" y1="1501.7969" y2="1501.7969"/><polygon fill="#181818" points="496,1497.7969,486,1501.7969,496,1505.7969,492,1501.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="492" y="1484.0547">convertToAppProductCategory(category)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="527" y1="1541.1074" y2="1541.1074"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="527" x2="527" y1="1541.1074" y2="1554.1074"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480" x2="527" y1="1554.1074" y2="1554.1074"/><polygon fill="#181818" points="490,1550.1074,480,1554.1074,490,1558.1074,486,1554.1074" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="492" y="1536.3652">AppProductCategoryDto</text><polygon fill="#181818" points="858,1574.418,868,1578.418,858,1582.418,862,1578.418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="864" y1="1578.418" y2="1578.418"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="487" y="1573.6758">getPricingRulesByCategory(categoryDto)</text><polygon fill="#181818" points="1271,1603.7285,1281,1607.7285,1271,1611.7285,1275,1607.7285" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="1277" y1="1607.7285" y2="1607.7285"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="887" y="1602.9863">toDomain(categoryDto)</text><polygon fill="#181818" points="891,1615.7285,881,1619.7285,891,1623.7285,887,1619.7285" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="1287" y1="1619.7285" y2="1619.7285"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="897" y="1633.2969">ProductCategory</text><polygon fill="#181818" points="2246.5,1662.3496,2256.5,1666.3496,2246.5,1670.3496,2250.5,1666.3496" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="2252.5" y1="1666.3496" y2="1666.3496"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="887" y="1661.6074">findByProductCategory(category)</text><polygon fill="#181818" points="891,1674.3496,881,1678.3496,891,1682.3496,887,1678.3496" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="2262.5" y1="1678.3496" y2="1678.3496"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="897" y="1691.918">List&lt;PricingRule&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="927" y1="1719.9707" y2="1719.9707"/><line style="stroke:#181818;stroke-width:1.0;" x1="927" x2="927" y1="1719.9707" y2="1732.9707"/><line style="stroke:#181818;stroke-width:1.0;" x1="886" x2="927" y1="1732.9707" y2="1732.9707"/><polygon fill="#181818" points="896,1728.9707,886,1732.9707,896,1736.9707,892,1732.9707" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="389" x="892" y="1715.2285">rules.stream().map(this::mapToDto).collect(Collectors.toList())</text><path d="M771.5,1752.9707 L845.5,1752.9707 L845.5,1760.2813 L835.5,1770.2813 L771.5,1770.2813 L771.5,1752.9707 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="617" x="771.5" y="1752.9707"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="786.5" y="1766.5391">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121" x="860.5" y="1765.6055">[&#23565;&#26044;&#27599;&#20491; PricingRule]</text><polygon fill="#181818" points="1271,1787.5918,1281,1791.5918,1271,1795.5918,1275,1791.5918" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885" x2="1277" y1="1791.5918" y2="1791.5918"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="892" y="1786.8496">toDto(pricingRule.getProductCategory())</text><polygon fill="#181818" points="896,1799.5918,886,1803.5918,896,1807.5918,892,1803.5918" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="890" x2="1287" y1="1803.5918" y2="1803.5918"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="902" y="1817.1602">ProductCategoryDto</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="927" y1="1862.2129" y2="1862.2129"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="927" x2="927" y1="1862.2129" y2="1875.2129"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="880" x2="927" y1="1875.2129" y2="1875.2129"/><polygon fill="#181818" points="890,1871.2129,880,1875.2129,890,1879.2129,886,1875.2129" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="892" y="1857.4707">List&lt;PricingRuleDto&gt;</text><polygon fill="#181818" points="491,1878.2129,481,1882.2129,491,1886.2129,487,1882.2129" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="874" y1="1882.2129" y2="1882.2129"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="497" y="1895.7813">List&lt;PricingRuleDto&gt;</text><polygon fill="#181818" points="54,1907.5234,44,1911.5234,54,1915.5234,50,1911.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="474" y1="1911.5234" y2="1911.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="60" y="1925.0918">PricingRuleListResponse</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2528.5" x="0" y="1957.4893"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="1957.4893" y2="1957.4893"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2528.5" y1="1960.4893" y2="1960.4893"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="70" x="1229.25" y="1946.834"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1235.25" y="1963.4023">&#35336;&#31639;&#20323;&#37329;</text><polygon fill="#181818" points="458,1997.4551,468,2001.4551,458,2005.4551,462,2001.4551" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43" x2="464" y1="2001.4551" y2="2001.4551"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="50" y="1996.7129">calculateCommission(productId, isEventPromotion)</text><polygon fill="#181818" points="858,2026.7656,868,2030.7656,858,2034.7656,862,2030.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="864" y1="2030.7656" y2="2030.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="487" y="2026.0234">calculateCommission(productId, isEventPromotion)</text><polygon fill="#181818" points="2246.5,2056.0762,2256.5,2060.0762,2246.5,2064.0762,2250.5,2060.0762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="2252.5" y1="2060.0762" y2="2060.0762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="887" y="2055.334">findByProductId(productId)</text><polygon fill="#181818" points="891,2068.0762,881,2072.0762,891,2076.0762,887,2072.0762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="2262.5" y1="2072.0762" y2="2072.0762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="897" y="2085.6445">List&lt;PricingRule&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="927" y1="2113.6973" y2="2113.6973"/><line style="stroke:#181818;stroke-width:1.0;" x1="927" x2="927" y1="2113.6973" y2="2126.6973"/><line style="stroke:#181818;stroke-width:1.0;" x1="886" x2="927" y1="2126.6973" y2="2126.6973"/><polygon fill="#181818" points="896,2122.6973,886,2126.6973,896,2130.6973,892,2126.6973" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="892" y="2108.9551">pricingRules.stream().filter(PricingRule::isValidNow).findFirst()</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="927" y1="2166.0078" y2="2166.0078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="927" x2="927" y1="2166.0078" y2="2179.0078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="880" x2="927" y1="2179.0078" y2="2179.0078"/><polygon fill="#181818" points="890,2175.0078,880,2179.0078,890,2183.0078,886,2179.0078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="892" y="2161.2656">Optional&lt;PricingRule&gt;</text><path d="M10,2189.0078 L72,2189.0078 L72,2196.3184 L62,2206.3184 L10,2206.3184 L10,2189.0078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="367.6816" style="stroke:#000000;stroke-width:1.5;" width="2171.5" x="10" y="2189.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="2202.5762">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="87" y="2201.6426">[&#25214;&#21040;&#26377;&#25928;&#30340;&#23450;&#20729;&#35215;&#21063;]</text><polygon fill="#181818" points="1736,2223.6289,1746,2227.6289,1736,2231.6289,1740,2227.6289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="880" x2="1742" y1="2227.6289" y2="2227.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="887" y="2222.8867">calculateCommission(isEventPromotion)</text><polygon fill="#181818" points="2090,2252.9395,2100,2256.9395,2090,2260.9395,2094,2256.9395" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1758" x2="2096" y1="2256.9395" y2="2256.9395"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="1765" y="2252.1973">getCurrentCommissionRate()</text><polygon fill="#181818" points="1769,2264.9395,1759,2268.9395,1769,2272.9395,1765,2268.9395" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1763" x2="2106" y1="2268.9395" y2="2268.9395"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1775" y="2282.5078">CommissionRate</text><polygon fill="#181818" points="2090,2311.5605,2100,2315.5605,2090,2319.5605,2094,2315.5605" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1758" x2="2096" y1="2315.5605" y2="2315.5605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="1765" y="2310.8184">isEventPromotion ? getEventRate() : getNormalRate()</text><polygon fill="#181818" points="1769,2323.5605,1759,2327.5605,1769,2331.5605,1765,2327.5605" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1763" x2="2106" y1="2327.5605" y2="2327.5605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="1775" y="2341.1289">int</text><line style="stroke:#181818;stroke-width:1.0;" x1="1758" x2="1800" y1="2374.1816" y2="2374.1816"/><line style="stroke:#181818;stroke-width:1.0;" x1="1800" x2="1800" y1="2374.1816" y2="2387.1816"/><line style="stroke:#181818;stroke-width:1.0;" x1="1759" x2="1800" y1="2387.1816" y2="2387.1816"/><polygon fill="#181818" points="1769,2383.1816,1759,2387.1816,1769,2391.1816,1765,2387.1816" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="1765" y="2369.4395">finalPrice.multiply(ratePercentage / 100.0)</text><polygon fill="#181818" points="891,2395.1816,881,2399.1816,891,2403.1816,887,2399.1816" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885" x2="1752" y1="2399.1816" y2="2399.1816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="897" y="2412.75">Money</text><polygon fill="#181818" points="491,2424.4922,481,2428.4922,491,2432.4922,487,2428.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="869" y1="2428.4922" y2="2428.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="497" y="2442.0605">CommissionDto</text><polygon fill="#181818" points="54,2453.8027,44,2457.8027,54,2461.8027,50,2457.8027" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="469" y1="2457.8027" y2="2457.8027"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="60" y="2471.3711">CommissionResponse</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="2181.5" y1="2484.1133" y2="2484.1133"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129" x="15" y="2494.748">[&#27794;&#26377;&#25214;&#21040;&#26377;&#25928;&#30340;&#23450;&#20729;&#35215;&#21063;]</text><polygon fill="#181818" points="491,2498.0684,481,2502.0684,491,2506.0684,487,2502.0684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="485" x2="869" y1="2502.0684" y2="2502.0684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="497" y="2515.6367">CommissionDto(Money.ZERO)</text><polygon fill="#181818" points="54,2527.3789,44,2531.3789,54,2535.3789,50,2531.3789" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="469" y1="2531.3789" y2="2531.3789"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="60" y="2544.9473">CommissionResponse(0)</text><!--SRC=[nLTRR-D457xthnZroP5AAD8-HRGeTRDI9R8RkOM7VHliQJh2zfYPSKhUG21jArIgvLBGia821DeNbge22LZWrwpJxh_WJEmaCnF7IRKhxKlYopdVkNvpZiNxD4annp7YHAGi4QHBXC1ziaqYTjJcd1qXoJFYE3YGZACrBw8aaMi82-Gve2bfG5ESIBJMut2Pz3sMICwYYF2nKAzQgfsc4Gsmf2pP8tn00r98j_TiSHPcWVIm97t6XrsSfbFWRYModqKbbc- -zrWSKo70eWzeHGJ-GWYVf4nG27bOWbcYEop6DEaC81czxBs8YiFIhvrEpt4sDr5-yaV-zE_yoSFyax-kVpdBJ-wZpKt7GwzjWUij5702NcW6NSz-ufCFCY9aGwMU3k2TIgRJcq6mP42ut6UGJ2jFRchUxqXcmYYK4cPU6wITa5HPRU-jvBbADKv2tIGKre6VmlTk2qbMP72PfrqmtIryLSOjJqqtkpCJVWibv0ZfNgPmJNR3TLHQB2zZfffGtHpG14TAWwoZa8g0PL1RmWCeCH1YzgmTgzzrH0uEY39ERWEAThlFrb5GEgZ7uZizV-8S3iCTSe2pI9fjwJR6GhDmf_uReVfQf80cyA28hvGrh2gpgq1gc4eknka-WseimeM2MlKqPPjz8kskRDoWj7DDs2tiLSHXYqvxhUpmPQ855qn1lpmERI80iqVV_JuwltZsxq_Fxp-uldnwzRd9x2mDGTWgwxJvtgbuMqjq5MibP1NI4kAfNe4k3xU7k-74fRfUkPigRk3eJIqnMtDTWoE9z7Ck__NR_D5Z1o6DZ9KH98p7E5ANm1vraghB1YZgZGumOzPugi-9l3FLqTGD7K_fU6KKe3HWD8GdcjVU76fdOjsjzkC6c9FSpOkCWz7JKibS8_e2T05xBN0BVJ67TGlG7JELc_1O1m5g8hICowQtXKeDdqtniPkwXbUXKCzZ4WbYjEcpFq_DJYrnvQ5QUdPXW-dZgCtxMGmTqVam86Co67Owi1_nYGNtriQjTRHMQMAjuP0aj4-U-QFbwlGoFpk_-kh7_CkFd__mVNxyyzN3JnVk4EFAJ2CLsyDfWQh6pygxGxNo2smCo_sqflx2PI5uoLl2z3nS9GVswVWs5RB-PDIvo5NeJI5XLuhTHXEewSf3Abgj2KaRpK2jpO5qlUAVST6KJ5an1oTa9s8iHVd5wUZydz5lP_b7dra7mwjXj6fnWzDsXa1hgtPIhwPGnNEbMJEphnyVNptvffZPvXwEeo2BZDdaQWiY5SMAFzaJ5y_e5m2g7j6zYV8CvkLrezOEMbCUq4WIxceehHOLx-A8XdVOaNgVXBSfLmrPiGcklZMeWDNMC3hvBp- -63qw6NrzR1rqvlfGbTpvZ2vU7A3ZlOnp49zRjskcl2bRkqFOpg2tbCtPMj50OoUqxQNMCataGdEzeaFAJvLc3DyGD8s6BbVVODFF5VGwUcDZexdHiDQIBal8i6OlAMan2zsUhLfIZD4wkln25N9vHQiik6EtclSw_jt64clknWgpz7y0]--></g></svg>