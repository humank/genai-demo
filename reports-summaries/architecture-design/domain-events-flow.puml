@startuml Domain Events Flow
!theme plain
skinparam classAttributeIconSize 0

title Domain Events Flow\nGenerated: 2025-09-24 22:16:28\n\n

package "Customer Events" {
  class CustomerSpendingUpdatedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +spendingAmount: Money
    +totalSpending: Money
    +... (4 more)
  }

  class CustomerProfileUpdatedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +newName: CustomerName
    +newEmail: Email
    +... (3 more)
  }

  class DeliveryAddressRemovedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +removedAddress: Address
    +remainingAddressCount: int
    +... (2 more)
  }

  class RewardPointsEarnedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +pointsEarned: int
    +totalPoints: int
    +... (3 more)
  }

  class MembershipLevelUpgradedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +oldLevel: MembershipLevel
    +newLevel: MembershipLevel
    +... (2 more)
  }

  class NotificationPreferencesUpdatedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +oldPreferences: NotificationPreferences
    +newPreferences: NotificationPreferences
    +... (2 more)
  }

  class CustomerVipUpgradedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +previousLevel: MembershipLevel
    +newLevel: MembershipLevel
    +... (2 more)
  }

  class CustomerStatusChangedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +oldStatus: CustomerStatus
    +newStatus: CustomerStatus
    +... (3 more)
  }

  class RewardPointsRedeemedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +pointsRedeemed: int
    +remainingPoints: int
    +... (3 more)
  }

  class DeliveryAddressAddedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +address: Address
    +totalAddressCount: int
    +... (2 more)
  }

  class CustomerCreatedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +customerName: CustomerName
    +email: Email
    +... (3 more)
  }

  class CustomerCreatedEvent <<DomainEvent>> {
    +customerId: CustomerId
    +customerName: String
    +eventId: UUID
    +... (1 more)
  }

}

package "Common Events" {
  class CartItemRemovedEvent <<DomainEvent>> {
    +cartId: ShoppingCartId
    +customerId: CustomerId
    +productId: ProductId
    +... (4 more)
  }

  class CartClearedEvent <<DomainEvent>> {
    +cartId: ShoppingCartId
    +customerId: CustomerId
    +clearedItems: List<CartItem>
    +... (3 more)
  }

  class CartCheckedOutEvent <<DomainEvent>> {
    +cartId: ShoppingCartId
    +consumerId: CustomerId
    +items: List<CartItem>
    +... (4 more)
  }

  class CartStatusChangedEvent <<DomainEvent>> {
    +cartId: ShoppingCartId
    +consumerId: CustomerId
    +oldStatus: ShoppingCartStatus
    +... (3 more)
  }

  class CartItemAddedEvent <<DomainEvent>> {
    +cartId: ShoppingCartId
    +customerId: CustomerId
    +productId: ProductId
    +... (4 more)
  }

  class CartCreatedEvent <<DomainEvent>> {
    +cartId: ShoppingCartId
    +customerId: CustomerId
    +eventId: UUID
    +... (1 more)
  }

  class CartItemQuantityUpdatedEvent <<DomainEvent>> {
    +cartId: ShoppingCartId
    +customerId: CustomerId
    +productId: ProductId
    +... (5 more)
  }

  class ReviewCreatedEvent <<DomainEvent>> {
    +reviewId: ReviewId
    +productId: ProductId
    +reviewerId: CustomerId
    +... (3 more)
  }

  class ReviewRejectedEvent <<DomainEvent>> {
    +reviewId: ReviewId
    +productId: ProductId
    +reviewerId: CustomerId
    +... (3 more)
  }

  class ReviewReportedEvent <<DomainEvent>> {
    +reviewId: ReviewId
    +productId: ProductId
    +reason: String
    +... (2 more)
  }

  class ReviewApprovedEvent <<DomainEvent>> {
    +reviewId: ReviewId
    +productId: ProductId
    +reviewerId: CustomerId
    +... (2 more)
  }

  class ReviewModifiedEvent <<DomainEvent>> {
    +reviewId: ReviewId
    +productId: ProductId
    +reviewerId: CustomerId
    +... (4 more)
  }

  class UserBehaviorAnalyticsEvent <<DomainEvent>> {
    +eventId: String
    +eventType: String
    +sessionId: String
    +... (6 more)
  }

  class PerformanceMetricReceivedEvent <<DomainEvent>> {
    +metricId: String
    +metricType: String
    +value: double
    +... (6 more)
  }

  class NotificationCreatedEvent <<DomainEvent>> {
    +notificationId: NotificationId
    +customerId: String
    +type: NotificationType
    +... (4 more)
  }

  class NotificationStatusChangedEvent <<DomainEvent>> {
    +notificationId: NotificationId
    +customerId: String
    +oldStatus: NotificationStatus
    +... (4 more)
  }

  class VoucherUsedEvent <<DomainEvent>> {
    +voucherId: VoucherId
    +ownerId: CustomerId
    +usageLocation: String
    +... (2 more)
  }

  class PromotionUsedEvent <<DomainEvent>> {
    +promotionId: PromotionId
    +customerId: String
    +orderId: String
    +... (3 more)
  }

  class PromotionInfoUpdatedEvent <<DomainEvent>> {
    +promotionId: PromotionId
    +oldName: String
    +newName: String
    +... (4 more)
  }

  class PromotionStatusChangedEvent <<DomainEvent>> {
    +promotionId: PromotionId
    +oldStatus: PromotionStatus
    +newStatus: PromotionStatus
    +... (3 more)
  }

  class VoucherLostReportedEvent <<DomainEvent>> {
    +voucherId: VoucherId
    +ownerId: CustomerId
    +reason: String
    +... (2 more)
  }

  class PromotionActivatedEvent <<DomainEvent>> {
    +promotionId: PromotionId
    +name: String
    +type: PromotionType
    +... (5 more)
  }

  class PromotionCreatedEvent <<DomainEvent>> {
    +promotionId: PromotionId
    +name: String
    +description: String
    +... (3 more)
  }

  class VoucherCancelledEvent <<DomainEvent>> {
    +voucherId: VoucherId
    +ownerId: CustomerId
    +eventId: UUID
    +... (1 more)
  }

  class SellerProfileUpdatedEvent <<DomainEvent>> {
    +sellerId: SellerId
    +businessName: String
    +businessAddress: String
    +... (3 more)
  }

  class SellerRegisteredEvent <<DomainEvent>> {
    +sellerId: SellerId
    +sellerName: String
    +email: String
    +... (2 more)
  }

  class SellerVerificationApprovedEvent <<DomainEvent>> {
    +sellerId: SellerId
    +verifierUserId: String
    +verifiedAt: LocalDateTime
    +... (3 more)
  }

  class SellerRatingAddedEvent <<DomainEvent>> {
    +sellerId: SellerId
    +ratingId: SellerRatingId
    +customerId: CustomerId
    +... (4 more)
  }

}

package "Inventory Events" {
  class StockAddedEvent <<DomainEvent>> {
    +inventoryId: InventoryId
    +productId: String
    +addedQuantity: int
    +... (3 more)
  }

  class InventoryCreatedEvent <<DomainEvent>> {
    +inventoryId: InventoryId
    +productId: String
    +productName: String
    +... (3 more)
  }

  class StockReservedEvent <<DomainEvent>> {
    +inventoryId: InventoryId
    +productId: String
    +reservationId: ReservationId
    +... (5 more)
  }

}

package "Product Events" {
  class ProductActivatedEvent <<DomainEvent>> {
    +productId: ProductId
    +eventId: UUID
    +occurredOn: LocalDateTime
  }

  class ProductStockUpdatedEvent <<DomainEvent>> {
    +productId: ProductId
    +oldStock: StockQuantity
    +newStock: StockQuantity
    +... (2 more)
  }

  class ProductDescriptionUpdatedEvent <<DomainEvent>> {
    +productId: ProductId
    +oldDescription: ProductDescription
    +newDescription: ProductDescription
    +... (2 more)
  }

  class ProductCreatedEvent <<DomainEvent>> {
    +productId: ProductId
    +productName: ProductName
    +price: Money
    +... (3 more)
  }

  class ProductPriceChangedEvent <<DomainEvent>> {
    +productId: ProductId
    +oldPrice: Money
    +newPrice: Money
    +... (2 more)
  }

  class ProductDiscontinuedEvent <<DomainEvent>> {
    +productId: ProductId
    +reason: String
    +eventId: UUID
    +... (1 more)
  }

}

package "Payment Events" {
  class PaymentRequestedEvent <<DomainEvent>> {
    +paymentId: PaymentId
    +orderId: OrderId
    +amount: Money
    +... (2 more)
  }

  class PaymentCompletedEvent <<DomainEvent>> {
    +paymentId: PaymentId
    +orderId: OrderId
    +amount: Money
    +... (3 more)
  }

  class PaymentFailedEvent <<DomainEvent>> {
    +paymentId: PaymentId
    +orderId: OrderId
    +amount: Money
    +... (4 more)
  }

  class PaymentCreatedEvent <<DomainEvent>> {
    +paymentId: PaymentId
    +orderId: OrderId
    +amount: Money
    +... (3 more)
  }

}

package "Order Events" {
  class OrderItemAddedEvent <<DomainEvent>> {
    +orderId: OrderId
    +productId: String
    +quantity: int
    +... (3 more)
  }

  class OrderSubmittedEvent <<DomainEvent>> {
    +orderId: OrderId
    +customerId: String
    +totalAmount: Money
    +... (3 more)
  }

  class OrderPaymentRequestedEvent <<DomainEvent>> {
    +orderId: OrderId
    +customerId: CustomerId
    +paymentAmount: Money
    +... (2 more)
  }

  class OrderConfirmedEvent <<DomainEvent>> {
    +orderId: OrderId
    +customerId: CustomerId
    +totalAmount: Money
    +... (2 more)
  }

  class OrderCreatedEvent <<DomainEvent>> {
    +orderId: OrderId
    +customerId: String
    +totalAmount: Money
    +... (3 more)
  }

  class OrderInventoryReservationRequestedEvent <<DomainEvent>> {
    +orderId: OrderId
    +customerId: CustomerId
    +items: List<OrderItem>
    +... (2 more)
  }

}

' Event Flow
CustomerSpendingUpdatedEvent ..> CustomerProfileUpdatedEvent : triggers
CustomerProfileUpdatedEvent ..> DeliveryAddressRemovedEvent : triggers
DeliveryAddressRemovedEvent ..> RewardPointsEarnedEvent : triggers
RewardPointsEarnedEvent ..> MembershipLevelUpgradedEvent : triggers
MembershipLevelUpgradedEvent ..> NotificationPreferencesUpdatedEvent : triggers
NotificationPreferencesUpdatedEvent ..> CustomerVipUpgradedEvent : triggers
CustomerVipUpgradedEvent ..> CustomerStatusChangedEvent : triggers
CustomerStatusChangedEvent ..> RewardPointsRedeemedEvent : triggers
RewardPointsRedeemedEvent ..> DeliveryAddressAddedEvent : triggers
DeliveryAddressAddedEvent ..> CustomerCreatedEvent : triggers
CustomerCreatedEvent ..> CustomerCreatedEvent : triggers
CartItemRemovedEvent ..> CartClearedEvent : triggers
CartClearedEvent ..> CartCheckedOutEvent : triggers
CartCheckedOutEvent ..> CartStatusChangedEvent : triggers
CartStatusChangedEvent ..> CartItemAddedEvent : triggers
CartItemAddedEvent ..> CartCreatedEvent : triggers
CartCreatedEvent ..> CartItemQuantityUpdatedEvent : triggers
CartItemQuantityUpdatedEvent ..> ReviewCreatedEvent : triggers
ReviewCreatedEvent ..> ReviewRejectedEvent : triggers
ReviewRejectedEvent ..> ReviewReportedEvent : triggers
ReviewReportedEvent ..> ReviewApprovedEvent : triggers
ReviewApprovedEvent ..> ReviewModifiedEvent : triggers
ReviewModifiedEvent ..> UserBehaviorAnalyticsEvent : triggers
UserBehaviorAnalyticsEvent ..> PerformanceMetricReceivedEvent : triggers
PerformanceMetricReceivedEvent ..> NotificationCreatedEvent : triggers
NotificationCreatedEvent ..> NotificationStatusChangedEvent : triggers
NotificationStatusChangedEvent ..> VoucherUsedEvent : triggers
VoucherUsedEvent ..> PromotionUsedEvent : triggers
PromotionUsedEvent ..> PromotionInfoUpdatedEvent : triggers
PromotionInfoUpdatedEvent ..> PromotionStatusChangedEvent : triggers
PromotionStatusChangedEvent ..> VoucherLostReportedEvent : triggers
VoucherLostReportedEvent ..> PromotionActivatedEvent : triggers
PromotionActivatedEvent ..> PromotionCreatedEvent : triggers
PromotionCreatedEvent ..> VoucherCancelledEvent : triggers
VoucherCancelledEvent ..> SellerProfileUpdatedEvent : triggers
SellerProfileUpdatedEvent ..> SellerRegisteredEvent : triggers
SellerRegisteredEvent ..> SellerVerificationApprovedEvent : triggers
SellerVerificationApprovedEvent ..> SellerRatingAddedEvent : triggers
StockAddedEvent ..> InventoryCreatedEvent : triggers
InventoryCreatedEvent ..> StockReservedEvent : triggers
ProductActivatedEvent ..> ProductStockUpdatedEvent : triggers
ProductStockUpdatedEvent ..> ProductDescriptionUpdatedEvent : triggers
ProductDescriptionUpdatedEvent ..> ProductCreatedEvent : triggers
ProductCreatedEvent ..> ProductPriceChangedEvent : triggers
ProductPriceChangedEvent ..> ProductDiscontinuedEvent : triggers
PaymentRequestedEvent ..> PaymentCompletedEvent : triggers
PaymentCompletedEvent ..> PaymentFailedEvent : triggers
PaymentFailedEvent ..> PaymentCreatedEvent : triggers
OrderItemAddedEvent ..> OrderSubmittedEvent : triggers
OrderSubmittedEvent ..> OrderPaymentRequestedEvent : triggers
OrderPaymentRequestedEvent ..> OrderConfirmedEvent : triggers
OrderConfirmedEvent ..> OrderCreatedEvent : triggers
OrderCreatedEvent ..> OrderInventoryReservationRequestedEvent : triggers

@enduml
