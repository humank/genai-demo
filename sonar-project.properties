# SonarQube Project Configuration
# Generated: 2024-11-22

# Project identification
sonar.projectKey=genai-demo
sonar.projectName=GenAI Demo - E-Commerce Platform
sonar.projectVersion=1.0.0

# Source code location
sonar.sources=app/src/main/java
sonar.tests=app/src/test/java

# Java version
sonar.java.source=21
sonar.java.target=21

# Encoding
sonar.sourceEncoding=UTF-8

# Exclusions
sonar.exclusions=**/node_modules/**,**/build/**,**/target/**,**/*.js,**/*.ts,**/*.py,**/scripts/**

# Test exclusions
sonar.test.exclusions=**/test/**

# Coverage exclusions
sonar.coverage.exclusions=**/config/**,**/dto/**,**/entity/**,**/*.py,**/scripts/**

# ============================================================================
# Issue Exclusions - 排除誤報
# ============================================================================

sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8,e9,e10,e11,e12,e13

# E1: 排除 @Pointcut 方法的空方法警告
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Aspect.java

# E2: 排除 AOP 配置類的空方法警告
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*Config.java

# E3: 排除 Record 類的空方法警告（compact constructor）
sonar.issue.ignore.multicriteria.e3.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e3.resourceKey=**/dto/**/*.java

# E4: 排除 Record 類的空方法警告（domain value objects）
sonar.issue.ignore.multicriteria.e4.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e4.resourceKey=**/valueobject/**/*.java

# E5: 排除 Record 類的空方法警告（application DTOs）
sonar.issue.ignore.multicriteria.e5.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e5.resourceKey=**/application/**/*Dto.java

# E6: 排除異常處理誤報 - 當異常已被記錄並重新拋出時
# S2139: "Either log or rethrow" - 我們的代碼已經正確地記錄並重新拋出
sonar.issue.ignore.multicriteria.e6.ruleKey=java:S2139
sonar.issue.ignore.multicriteria.e6.resourceKey=**/config/**/*.java

# E7: 排除配置檔案中的字串常數重複警告
# S1192: "Define a constant instead of duplicating" - 配置特定的字串值
sonar.issue.ignore.multicriteria.e7.ruleKey=java:S1192
sonar.issue.ignore.multicriteria.e7.resourceKey=**/config/**/*.java

# E8: 排除 OpenAPI 配置中的字串常數重複
sonar.issue.ignore.multicriteria.e8.ruleKey=java:S1192
sonar.issue.ignore.multicriteria.e8.resourceKey=**/OpenApiConfig.java

# E9: 排除 Security 配置中的字串常數重複
sonar.issue.ignore.multicriteria.e9.ruleKey=java:S1192
sonar.issue.ignore.multicriteria.e9.resourceKey=**/WebSecurityConfiguration.java

# E10: 排除註解程式碼警告 - 保留作為配置參考
# S125: "Remove commented out code" - 這些是有用的配置範例
sonar.issue.ignore.multicriteria.e10.ruleKey=java:S125
sonar.issue.ignore.multicriteria.e10.resourceKey=**/config/**/*.java

# E11: 排除未使用參數警告 - 框架要求的方法簽名
# S1172: "Remove unused method parameter" - 框架回調方法需要這些參數
sonar.issue.ignore.multicriteria.e11.ruleKey=java:S1172
sonar.issue.ignore.multicriteria.e11.resourceKey=**/testutils/**/*.java

# E12: 排除繼承方法警告 - 明確覆寫以提高可讀性
# S1185: "Remove this method to simply inherit it" - 明確覆寫提高程式碼清晰度
sonar.issue.ignore.multicriteria.e12.ruleKey=java:S1185
sonar.issue.ignore.multicriteria.e12.resourceKey=**/config/**/*.java

# E13: 排除 Lambda 方法引用建議 - 保持程式碼一致性
# S1612: "Replace lambda with method reference" - Lambda 表達式更清晰
sonar.issue.ignore.multicriteria.e13.ruleKey=java:S1612
sonar.issue.ignore.multicriteria.e13.resourceKey=**/security/**/*.java

# ============================================================================
# Duplicate String Literals - 重複字串常量配置
# ============================================================================

# 設定重複字串的閾值（預設是 3 次，我們提高到 5 次）
sonar.java.duplicatedBlocks.minimumLines=5

# ============================================================================
# Code Smell Rules - 程式碼異味規則
# ============================================================================

# 允許較長的方法（預設 20 行，我們允許 30 行）
sonar.java.maxMethodLines=30

# 允許較多的參數（預設 7 個，我們允許 10 個）
sonar.java.maxParameters=10

# ============================================================================
# Coverage Settings - 覆蓋率設定
# ============================================================================

sonar.coverage.jacoco.xmlReportPaths=app/build/reports/jacoco/test/jacocoTestReport.xml

# ============================================================================
# Additional Settings
# ============================================================================

# 啟用分支分析
sonar.branch.name=main

# 日誌級別
sonar.log.level=INFO

# 分析超時（秒）
sonar.ws.timeout=300
